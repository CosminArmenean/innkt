"use strict";(self.webpackChunkinnkt=self.webpackChunkinnkt||[]).push([[83],{9083:(vm,bi,nt)=>{nt.r(bi),nt.d(bi,{SecurityDashboardComponent:()=>xm});var Te=nt(2200),xr=nt(8132),_i=nt(9417),H=nt(2615),u=nt(3664);function Vt(e){return e+.5|0}const dt=(e,n,t)=>Math.max(Math.min(e,t),n);function ie(e){return dt(Vt(2.55*e),0,255)}function xt(e){return dt(Vt(255*e),0,255)}function ut(e){return dt(Vt(e/2.55)/100,0,1)}function yi(e){return dt(Vt(100*e),0,100)}const ot={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},bn=[..."0123456789ABCDEF"],vr=e=>bn[15&e],Mr=e=>bn[(240&e)>>4]+bn[15&e],Ae=e=>(240&e)>>4==(15&e);const wr=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function xi(e,n,t){const i=n*Math.min(t,1-t),s=(o,r=(o+e/30)%12)=>t-i*Math.max(Math.min(r-3,9-r,1),-1);return[s(0),s(8),s(4)]}function kr(e,n,t){const i=(s,o=(s+e/60)%6)=>t-t*n*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function Dr(e,n,t){const i=xi(e,1,.5);let s;for(n+t>1&&(s=1/(n+t),n*=s,t*=s),s=0;s<3;s++)i[s]*=1-n-t,i[s]+=n;return i}function _n(e){const t=e.r/255,i=e.g/255,s=e.b/255,o=Math.max(t,i,s),r=Math.min(t,i,s),a=(o+r)/2;let c,l,h;return o!==r&&(h=o-r,l=a>.5?h/(2-o-r):h/(o+r),c=function Tr(e,n,t,i,s){return e===s?(n-t)/i+(n<t?6:0):n===s?(t-e)/i+2:(e-n)/i+4}(t,i,s,h,o),c=60*c+.5),[0|c,l||0,a]}function yn(e,n,t,i){return(Array.isArray(n)?e(n[0],n[1],n[2]):e(n,t,i)).map(xt)}function xn(e,n,t){return yn(xi,e,n,t)}function vi(e){return(e%360+360)%360}const Mi={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ci={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Re;const zr=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,vn=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,Wt=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Fe(e,n,t){if(e){let i=_n(e);i[n]=Math.max(0,Math.min(i[n]+i[n]*t,0===n?360:1)),i=xn(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function Pi(e,n){return e&&Object.assign(n||{},e)}function Oi(e){var n={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(n={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(n.a=xt(e[3]))):(n=Pi(e,{r:0,g:0,b:0,a:1})).a=xt(n.a),n}function Wr(e){return"r"===e.charAt(0)?function Br(e){const n=zr.exec(e);let i,s,o,t=255;if(n){if(n[7]!==i){const r=+n[7];t=n[8]?ie(r):dt(255*r,0,255)}return i=+n[1],s=+n[3],o=+n[5],i=255&(n[2]?ie(i):dt(i,0,255)),s=255&(n[4]?ie(s):dt(s,0,255)),o=255&(n[6]?ie(o):dt(o,0,255)),{r:i,g:s,b:o,a:t}}}(e):function Fr(e){const n=wr.exec(e);let i,t=255;if(!n)return;n[5]!==i&&(t=n[6]?ie(+n[5]):xt(+n[5]));const s=vi(+n[2]),o=+n[3]/100,r=+n[4]/100;return i="hwb"===n[1]?function Ar(e,n,t){return yn(Dr,e,n,t)}(s,o,r):"hsv"===n[1]?function Rr(e,n,t){return yn(kr,e,n,t)}(s,o,r):xn(s,o,r),{r:i[0],g:i[1],b:i[2],a:t}}(e)}class Ht{constructor(n){if(n instanceof Ht)return n;const t=typeof n;let i;"object"===t?i=Oi(n):"string"===t&&(i=function Pr(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*ot[e[1]],g:255&17*ot[e[2]],b:255&17*ot[e[3]],a:5===n?17*ot[e[4]]:255}:(7===n||9===n)&&(t={r:ot[e[1]]<<4|ot[e[2]],g:ot[e[3]]<<4|ot[e[4]],b:ot[e[5]]<<4|ot[e[6]],a:9===n?ot[e[7]]<<4|ot[e[8]]:255})),t}(n)||function jr(e){Re||(Re=function Lr(){const e={},n=Object.keys(Ci),t=Object.keys(Mi);let i,s,o,r,a;for(i=0;i<n.length;i++){for(r=a=n[i],s=0;s<t.length;s++)o=t[s],a=a.replace(o,Mi[o]);o=parseInt(Ci[r],16),e[a]=[o>>16&255,o>>8&255,255&o]}return e}(),Re.transparent=[0,0,0,0]);const n=Re[e.toLowerCase()];return n&&{r:n[0],g:n[1],b:n[2],a:4===n.length?n[3]:255}}(n)||Wr(n)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var n=Pi(this._rgb);return n&&(n.a=ut(n.a)),n}set rgb(n){this._rgb=Oi(n)}rgbString(){return this._valid?function Nr(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${ut(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}(this._rgb):void 0}hexString(){return this._valid?function Sr(e){var n=(e=>Ae(e.r)&&Ae(e.g)&&Ae(e.b)&&Ae(e.a))(e)?vr:Mr;return e?"#"+n(e.r)+n(e.g)+n(e.b)+((e,n)=>e<255?n(e):"")(e.a,n):void 0}(this._rgb):void 0}hslString(){return this._valid?function Er(e){if(!e)return;const n=_n(e),t=n[0],i=yi(n[1]),s=yi(n[2]);return e.a<255?`hsla(${t}, ${i}%, ${s}%, ${ut(e.a)})`:`hsl(${t}, ${i}%, ${s}%)`}(this._rgb):void 0}mix(n,t){if(n){const i=this.rgb,s=n.rgb;let o;const r=t===o?.5:t,a=2*r-1,c=i.a-s.a,l=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;o=1-l,i.r=255&l*i.r+o*s.r+.5,i.g=255&l*i.g+o*s.g+.5,i.b=255&l*i.b+o*s.b+.5,i.a=r*i.a+(1-r)*s.a,this.rgb=i}return this}interpolate(n,t){return n&&(this._rgb=function Vr(e,n,t){const i=Wt(ut(e.r)),s=Wt(ut(e.g)),o=Wt(ut(e.b));return{r:xt(vn(i+t*(Wt(ut(n.r))-i))),g:xt(vn(s+t*(Wt(ut(n.g))-s))),b:xt(vn(o+t*(Wt(ut(n.b))-o))),a:e.a+t*(n.a-e.a)}}(this._rgb,n._rgb,t)),this}clone(){return new Ht(this.rgb)}alpha(n){return this._rgb.a=xt(n),this}clearer(n){return this._rgb.a*=1-n,this}greyscale(){const n=this._rgb,t=Vt(.3*n.r+.59*n.g+.11*n.b);return n.r=n.g=n.b=t,this}opaquer(n){return this._rgb.a*=1+n,this}negate(){const n=this._rgb;return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,this}lighten(n){return Fe(this._rgb,2,n),this}darken(n){return Fe(this._rgb,2,-n),this}saturate(n){return Fe(this._rgb,1,n),this}desaturate(n){return Fe(this._rgb,1,-n),this}rotate(n){return function Ir(e,n){var t=_n(e);t[0]=vi(t[0]+n),t=xn(t),e.r=t[0],e.g=t[1],e.b=t[2]}(this._rgb,n),this}}const Hr=(()=>{let e=0;return()=>e++})();function T(e){return null==e}function j(e){if(Array.isArray&&Array.isArray(e))return!0;const n=Object.prototype.toString.call(e);return"[object"===n.slice(0,7)&&"Array]"===n.slice(-6)}function A(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function W(e){return("number"==typeof e||e instanceof Number)&&isFinite(+e)}function it(e,n){return W(e)?e:n}function w(e,n){return typeof e>"u"?n:e}function L(e,n,t){if(e&&"function"==typeof e.call)return e.apply(t,n)}function I(e,n,t,i){let s,o,r;if(j(e))if(o=e.length,i)for(s=o-1;s>=0;s--)n.call(t,e[s],s);else for(s=0;s<o;s++)n.call(t,e[s],s);else if(A(e))for(r=Object.keys(e),o=r.length,s=0;s<o;s++)n.call(t,e[r[s]],r[s])}function Ie(e,n){let t,i,s,o;if(!e||!n||e.length!==n.length)return!1;for(t=0,i=e.length;t<i;++t)if(s=e[t],o=n[t],s.datasetIndex!==o.datasetIndex||s.index!==o.index)return!1;return!0}function Ee(e){if(j(e))return e.map(Ee);if(A(e)){const n=Object.create(null),t=Object.keys(e),i=t.length;let s=0;for(;s<i;++s)n[t[s]]=Ee(e[t[s]]);return n}return e}function wi(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function Ur(e,n,t,i){if(!wi(e))return;const s=n[e],o=t[e];A(s)&&A(o)?se(s,o,i):n[e]=Ee(o)}function se(e,n,t){const i=j(n)?n:[n],s=i.length;if(!A(e))return e;const o=(t=t||{}).merger||Ur;let r;for(let a=0;a<s;++a){if(r=i[a],!A(r))continue;const c=Object.keys(r);for(let l=0,h=c.length;l<h;++l)o(c[l],e,r,t)}return e}function oe(e,n){return se(e,n,{merger:Yr})}function Yr(e,n,t){if(!wi(e))return;const i=n[e],s=t[e];A(i)&&A(s)?oe(i,s):Object.prototype.hasOwnProperty.call(n,e)||(n[e]=Ee(s))}const ki={"":e=>e,x:e=>e.x,y:e=>e.y};function vt(e,n){return(ki[n]||(ki[n]=function Gr(e){const n=function Xr(e){const n=e.split("."),t=[];let i="";for(const s of n)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}(e);return t=>{for(const i of n){if(""===i)break;t=t&&t[i]}return t}}(n)))(e)}function Mn(e){return e.charAt(0).toUpperCase()+e.slice(1)}const re=e=>typeof e<"u",Mt=e=>"function"==typeof e,Di=(e,n)=>{if(e.size!==n.size)return!1;for(const t of e)if(!n.has(t))return!1;return!0},F=Math.PI,z=2*F,Le=Number.POSITIVE_INFINITY,$=F/2,Ct=Math.log10,ct=Math.sign;function $t(e){return!function Qr(e){return"symbol"==typeof e||"object"==typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function rt(e){return e*(F/180)}function K(e){return(e%z+z)%z}function X(e,n,t){return Math.max(n,Math.min(t,e))}function On(e,n,t){t=t||(r=>e[r]<n);let o,i=e.length-1,s=0;for(;i-s>1;)o=s+i>>1,t(o)?s=o:i=o;return{lo:s,hi:i}}const pt=(e,n,t,i)=>On(e,t,i?s=>{const o=e[s][n];return o<t||o===t&&e[s+1][n]===t}:s=>e[s][n]<t),ia=(e,n,t)=>On(e,t,i=>e[i][n]>=t),Ei=["push","pop","shift","splice","unshift"];function Li(e,n){const t=e._chartjs;if(!t)return;const i=t.listeners,s=i.indexOf(n);-1!==s&&i.splice(s,1),!(i.length>0)&&(Ei.forEach(o=>{delete e[o]}),delete e._chartjs)}const zi=typeof window>"u"?function(e){return e()}:window.requestAnimationFrame;function Bi(e,n){let t=[],i=!1;return function(...s){t=s,i||(i=!0,zi.call(window,()=>{i=!1,e.apply(n,t)}))}}const q=(e,n,t)=>"start"===e?n:"end"===e?t:(n+t)/2,je=e=>0===e||1===e,Wi=(e,n,t)=>-Math.pow(2,10*(e-=1))*Math.sin((e-n)*z/t),Hi=(e,n,t)=>Math.pow(2,-10*e)*Math.sin((e-n)*z/t)+1,le={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*$),easeOutSine:e=>Math.sin(e*$),easeInOutSine:e=>-.5*(Math.cos(F*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>je(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>je(e)?e:Wi(e,.075,.3),easeOutElastic:e=>je(e)?e:Hi(e,.075,.3),easeInOutElastic:e=>je(e)?e:e<.5?.5*Wi(2*e,.1125,.45):.5+.5*Hi(2*e-1,.1125,.45),easeInBack:e=>e*e*(2.70158*e-1.70158),easeOutBack:e=>(e-=1)*e*(2.70158*e+1.70158)+1,easeInOutBack(e){let n=1.70158;return(e/=.5)<1?e*e*((1+(n*=1.525))*e-n)*.5:.5*((e-=2)*e*((1+(n*=1.525))*e+n)+2)},easeInBounce:e=>1-le.easeOutBounce(1-e),easeOutBounce:e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,easeInOutBounce:e=>e<.5?.5*le.easeInBounce(2*e):.5*le.easeOutBounce(2*e-1)+.5};function wn(e){if(e&&"object"==typeof e){const n=e.toString();return"[object CanvasPattern]"===n||"[object CanvasGradient]"===n}return!1}function $i(e){return wn(e)?e:new Ht(e)}function kn(e){return wn(e)?e:new Ht(e).saturate(.5).darken(.1).hexString()}const ca=["x","y","borderWidth","radius","tension"],la=["color","borderColor","backgroundColor"],Ui=new Map;const Yi={values:e=>j(e)?e:""+e,numeric(e,n,t){if(0===e)return"0";const i=this.chart.options.locale;let s,o=e;if(t.length>1){const l=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(l<1e-4||l>1e15)&&(s="scientific"),o=function fa(e,n){let t=n.length>3?n[2].value-n[1].value:n[1].value-n[0].value;return Math.abs(t)>=1&&e!==Math.floor(e)&&(t=e-Math.floor(e)),t}(e,t)}const r=Ct(Math.abs(o)),a=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),c={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),function he(e,n,t){return function ua(e,n){n=n||{};const t=e+JSON.stringify(n);let i=Ui.get(t);return i||(i=new Intl.NumberFormat(e,n),Ui.set(t,i)),i}(n,t).format(e)}(e,i,c)},logarithmic(e,n,t){if(0===e)return"0";const i=t[n].significand||e/Math.pow(10,Math.floor(Ct(e)));return[1,2,3,5,10,15].includes(i)||n>.8*t.length?Yi.numeric.call(this,e,n,t):""}};var ze={formatters:Yi};const kt=Object.create(null),Dn=Object.create(null);function de(e,n){if(!n)return e;const t=n.split(".");for(let i=0,s=t.length;i<s;++i){const o=t[i];e=e[o]||(e[o]=Object.create(null))}return e}function Tn(e,n,t){return"string"==typeof n?se(de(e,n),t):se(de(e,""),n)}class pa{constructor(n,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>kn(s.backgroundColor),this.hoverBorderColor=(i,s)=>kn(s.borderColor),this.hoverColor=(i,s)=>kn(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(n),this.apply(t)}set(n,t){return Tn(this,n,t)}get(n){return de(this,n)}describe(n,t){return Tn(Dn,n,t)}override(n,t){return Tn(kt,n,t)}route(n,t,i,s){const o=de(this,n),r=de(this,i),a="_"+t;Object.defineProperties(o,{[a]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){const c=this[a],l=r[s];return A(c)?Object.assign({},l,c):w(c,l)},set(c){this[a]=c}}})}apply(n){n.forEach(t=>t(this))}}var B=new pa({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function ha(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>"onProgress"!==n&&"onComplete"!==n&&"fn"!==n}),e.set("animations",{colors:{type:"color",properties:la},numbers:{type:"number",properties:ca}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>0|n}}}})},function da(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function ga(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,t)=>t.lineWidth,tickColor:(n,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ze.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&"callback"!==n&&"parser"!==n,_indexable:n=>"borderDash"!==n&&"tickBorderDash"!==n&&"dash"!==n}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:n=>"backdropPadding"!==n&&"callback"!==n,_indexable:n=>"backdropPadding"!==n})}]);function Be(e,n,t,i,s){let o=n[s];return o||(o=n[s]=e.measureText(s).width,t.push(s)),o>i&&(i=o),i}function Dt(e,n,t){const i=e.currentDevicePixelRatio,s=0!==t?Math.max(t/2,.5):0;return Math.round((n-s)*i)/i+s}function Xi(e,n){!n&&!e||((n=n||e.getContext("2d")).save(),n.resetTransform(),n.clearRect(0,0,e.width,e.height),n.restore())}function mt(e,n,t){return t=t||.5,!n||e&&e.x>n.left-t&&e.x<n.right+t&&e.y>n.top-t&&e.y<n.bottom+t}function Ne(e,n){e.save(),e.beginPath(),e.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),e.clip()}function Ve(e){e.restore()}function va(e,n,t,i,s){if(s.strikethrough||s.underline){const o=e.measureText(i),r=n-o.actualBoundingBoxLeft,a=n+o.actualBoundingBoxRight,l=t+o.actualBoundingBoxDescent,h=s.strikethrough?(t-o.actualBoundingBoxAscent+l)/2:l;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(r,h),e.lineTo(a,h),e.stroke()}}function Ma(e,n){const t=e.fillStyle;e.fillStyle=n.color,e.fillRect(n.left,n.top,n.width,n.height),e.fillStyle=t}function Tt(e,n,t,i,s,o={}){const r=j(n)?n:[n],a=o.strokeWidth>0&&""!==o.strokeColor;let c,l;for(e.save(),e.font=s.string,function xa(e,n){n.translation&&e.translate(n.translation[0],n.translation[1]),T(n.rotation)||e.rotate(n.rotation),n.color&&(e.fillStyle=n.color),n.textAlign&&(e.textAlign=n.textAlign),n.textBaseline&&(e.textBaseline=n.textBaseline)}(e,o),c=0;c<r.length;++c)l=r[c],o.backdrop&&Ma(e,o.backdrop),a&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),T(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(l,t,i,o.maxWidth)),e.fillText(l,t,i,o.maxWidth),va(e,t,i,l,o),i+=Number(s.lineHeight);e.restore()}const Ca=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Pa=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Oa(e,n){const t=(""+e).match(Ca);if(!t||"normal"===t[1])return 1.2*n;switch(e=+t[2],t[3]){case"px":return e;case"%":e/=100}return n*e}const Sa=e=>+e||0;function Ki(e){return function Rn(e,n){const t={},i=A(n),s=i?Object.keys(n):n,o=A(e)?i?r=>w(e[r],e[n[r]]):r=>e[r]:()=>e;for(const r of s)t[r]=Sa(o(r));return t}(e,{top:"y",right:"x",bottom:"y",left:"x"})}function J(e){const n=Ki(e);return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function Y(e,n){let t=w((e=e||{}).size,(n=n||B.font).size);"string"==typeof t&&(t=parseInt(t,10));let i=w(e.style,n.style);i&&!(""+i).match(Pa)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:w(e.family,n.family),lineHeight:Oa(w(e.lineHeight,n.lineHeight),t),size:t,style:i,weight:w(e.weight,n.weight),string:""};return s.string=function ma(e){return!e||T(e.size)||T(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(s),s}function fe(e,n,t,i){let o,r,a,s=!0;for(o=0,r=e.length;o<r;++o)if(a=e[o],void 0!==a&&(void 0!==n&&"function"==typeof a&&(a=a(n),s=!1),void 0!==t&&j(a)&&(a=a[t%a.length],s=!1),void 0!==a))return i&&!s&&(i.cacheable=!1),a}function Pt(e,n){return Object.assign(Object.create(e),n)}function Fn(e,n=[""],t,i,s=()=>e[0]){const o=t||e;typeof i>"u"&&(i=ts("_fallback",e));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:i,_getTarget:s,override:a=>Fn([a,...e],n,o,i)};return new Proxy(r,{deleteProperty:(a,c)=>(delete a[c],delete a._keys,delete e[0][c],!0),get:(a,c)=>Ji(a,c,()=>function Ea(e,n,t,i){let s;for(const o of n)if(s=ts(ka(o,e),t),typeof s<"u")return In(e,s)?En(t,i,e,s):s}(c,n,e,a)),getOwnPropertyDescriptor:(a,c)=>Reflect.getOwnPropertyDescriptor(a._scopes[0],c),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(a,c)=>es(a).includes(c),ownKeys:a=>es(a),set(a,c,l){const h=a._storage||(a._storage=s());return a[c]=h[c]=l,delete a._keys,!0}})}function Ut(e,n,t,i){const s={_cacheable:!1,_proxy:e,_context:n,_subProxy:t,_stack:new Set,_descriptors:qi(e,i),setContext:o=>Ut(e,o,t,i),override:o=>Ut(e.override(o),n,t,i)};return new Proxy(s,{deleteProperty:(o,r)=>(delete o[r],delete e[r],!0),get:(o,r,a)=>Ji(o,r,()=>function Da(e,n,t){const{_proxy:i,_context:s,_subProxy:o,_descriptors:r}=e;let a=i[n];return Mt(a)&&r.isScriptable(n)&&(a=function Ta(e,n,t,i){const{_proxy:s,_context:o,_subProxy:r,_stack:a}=t;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let c=n(o,r||i);return a.delete(e),In(e,c)&&(c=En(s._scopes,s,e,c)),c}(n,a,e,t)),j(a)&&a.length&&(a=function Aa(e,n,t,i){const{_proxy:s,_context:o,_subProxy:r,_descriptors:a}=t;if(typeof o.index<"u"&&i(e))return n[o.index%n.length];if(A(n[0])){const c=n,l=s._scopes.filter(h=>h!==c);n=[];for(const h of c){const d=En(l,s,e,h);n.push(Ut(d,o,r&&r[e],a))}}return n}(n,a,e,r.isIndexable)),In(n,a)&&(a=Ut(a,s,o&&o[n],r)),a}(o,r,a)),getOwnPropertyDescriptor:(o,r)=>o._descriptors.allKeys?Reflect.has(e,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,r),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(o,r)=>Reflect.has(e,r),ownKeys:()=>Reflect.ownKeys(e),set:(o,r,a)=>(e[r]=a,delete o[r],!0)})}function qi(e,n={scriptable:!0,indexable:!0}){const{_scriptable:t=n.scriptable,_indexable:i=n.indexable,_allKeys:s=n.allKeys}=e;return{allKeys:s,scriptable:t,indexable:i,isScriptable:Mt(t)?t:()=>t,isIndexable:Mt(i)?i:()=>i}}const ka=(e,n)=>e?e+Mn(n):n,In=(e,n)=>A(n)&&"adapters"!==e&&(null===Object.getPrototypeOf(n)||n.constructor===Object);function Ji(e,n,t){if(Object.prototype.hasOwnProperty.call(e,n)||"constructor"===n)return e[n];const i=t();return e[n]=i,i}function Zi(e,n,t){return Mt(e)?e(n,t):e}const Ra=(e,n)=>!0===e?n:"string"==typeof e?vt(n,e):void 0;function Fa(e,n,t,i,s){for(const o of n){const r=Ra(t,o);if(r){e.add(r);const a=Zi(r._fallback,t,s);if(typeof a<"u"&&a!==t&&a!==i)return a}else if(!1===r&&typeof i<"u"&&t!==i)return null}return!1}function En(e,n,t,i){const s=n._rootScopes,o=Zi(n._fallback,t,i),r=[...e,...s],a=new Set;a.add(i);let c=Qi(a,r,t,o||t,i);return!(null===c||typeof o<"u"&&o!==t&&(c=Qi(a,r,o,c,i),null===c))&&Fn(Array.from(a),[""],s,o,()=>function Ia(e,n,t){const i=e._getTarget();n in i||(i[n]={});const s=i[n];return j(s)&&A(t)?t:s||{}}(n,t,i))}function Qi(e,n,t,i,s){for(;t;)t=Fa(e,n,t,i,s);return t}function ts(e,n){for(const t of n){if(!t)continue;const i=t[e];if(typeof i<"u")return i}}function es(e){let n=e._keys;return n||(n=e._keys=function La(e){const n=new Set;for(const t of e)for(const i of Object.keys(t).filter(s=>!s.startsWith("_")))n.add(i);return Array.from(n)}(e._scopes)),n}function Ln(){return typeof window<"u"&&typeof document<"u"}function jn(e){let n=e.parentNode;return n&&"[object ShadowRoot]"===n.toString()&&(n=n.host),n}function He(e,n,t){let i;return"string"==typeof e?(i=parseInt(e,10),-1!==e.indexOf("%")&&(i=i/100*n.parentNode[t])):i=e,i}const $e=e=>e.ownerDocument.defaultView.getComputedStyle(e,null),Ua=["top","right","bottom","left"];function Rt(e,n,t){const i={};t=t?"-"+t:"";for(let s=0;s<4;s++){const o=Ua[s];i[o]=parseFloat(e[n+"-"+o+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function Ft(e,n){if("native"in e)return e;const{canvas:t,currentDevicePixelRatio:i}=n,s=$e(t),o="border-box"===s.boxSizing,r=Rt(s,"padding"),a=Rt(s,"border","width"),{x:c,y:l,box:h}=function Xa(e,n){const t=e.touches,i=t&&t.length?t[0]:e,{offsetX:s,offsetY:o}=i;let a,c,r=!1;if(((e,n,t)=>(e>0||n>0)&&(!t||!t.shadowRoot))(s,o,e.target))a=s,c=o;else{const l=n.getBoundingClientRect();a=i.clientX-l.left,c=i.clientY-l.top,r=!0}return{x:a,y:c,box:r}}(e,t),d=r.left+(h&&a.left),f=r.top+(h&&a.top);let{width:g,height:p}=n;return o&&(g-=r.width+a.width,p-=r.height+a.height),{x:Math.round((c-d)/g*t.width/i),y:Math.round((l-f)/p*t.height/i)}}const Ue=e=>Math.round(10*e)/10;function ss(e,n,t){const i=n||1,s=Math.floor(e.height*i),o=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const r=e.canvas;return r.style&&(t||!r.style.height&&!r.style.width)&&(r.style.height=`${e.height}px`,r.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==i||r.height!==s||r.width!==o)&&(e.currentDevicePixelRatio=i,r.height=s,r.width=o,e.ctx.setTransform(i,0,0,i,0,0),!0)}const qa=function(){let e=!1;try{const n={get passive(){return e=!0,!1}};Ln()&&(window.addEventListener("test",null,n),window.removeEventListener("test",null,n))}catch{}return e}();function os(e,n){const t=function $a(e,n){return $e(e).getPropertyValue(n)}(e,n),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Ye(e,n,t){return e.options.clip?e[t]:n[t]}class cc{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(n,t,i,s){const r=t.duration;t.listeners[s].forEach(a=>a({chart:n,initial:t.initial,numSteps:r,currentStep:Math.min(i-t.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=zi.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(n=Date.now()){let t=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const o=i.items;let c,r=o.length-1,a=!1;for(;r>=0;--r)c=o[r],c._active?(c._total>i.duration&&(i.duration=c._total),c.tick(n),a=!0):(o[r]=o[o.length-1],o.pop());a&&(s.draw(),this._notify(s,i,n,"progress")),o.length||(i.running=!1,this._notify(s,i,n,"complete"),i.initial=!1),t+=o.length}),this._lastDate=n,0===t&&(this._running=!1)}_getAnims(n){const t=this._charts;let i=t.get(n);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(n,i)),i}listen(n,t,i){this._getAnims(n).listeners[t].push(i)}add(n,t){!t||!t.length||this._getAnims(n).items.push(...t)}has(n){return this._getAnims(n).items.length>0}start(n){const t=this._charts.get(n);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(n){if(!this._running)return!1;const t=this._charts.get(n);return!(!t||!t.running||!t.items.length)}stop(n){const t=this._charts.get(n);if(!t||!t.items.length)return;const i=t.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();t.items=[],this._notify(n,t,Date.now(),"complete")}remove(n){return this._charts.delete(n)}}var bt=new cc;const ps="transparent",lc={boolean:(e,n,t)=>t>.5?n:e,color(e,n,t){const i=$i(e||ps),s=i.valid&&$i(n||ps);return s&&s.valid?s.mix(i,t).hexString():n},number:(e,n,t)=>e+(n-e)*t};class hc{constructor(n,t,i,s){const o=t[i];s=fe([n.to,s,o,n.from]);const r=fe([n.from,o,s]);this._active=!0,this._fn=n.fn||lc[n.type||typeof r],this._easing=le[n.easing]||le.linear,this._start=Math.floor(Date.now()+(n.delay||0)),this._duration=this._total=Math.floor(n.duration),this._loop=!!n.loop,this._target=t,this._prop=i,this._from=r,this._to=s,this._promises=void 0}active(){return this._active}update(n,t,i){if(this._active){this._notify(!1);const s=this._target[this._prop],o=i-this._start,r=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(r,n.duration)),this._total+=o,this._loop=!!n.loop,this._to=fe([n.to,t,s,n.from]),this._from=fe([n.from,s,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(n){const t=n-this._start,i=this._duration,s=this._prop,o=this._from,r=this._loop,a=this._to;let c;if(this._active=o!==a&&(r||t<i),!this._active)return this._target[s]=a,void this._notify(!0);t<0?this._target[s]=o:(c=t/i%2,c=r&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[s]=this._fn(o,a,c))}wait(){const n=this._promises||(this._promises=[]);return new Promise((t,i)=>{n.push({res:t,rej:i})})}_notify(n){const t=n?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][t]()}}class ms{constructor(n,t){this._chart=n,this._properties=new Map,this.configure(t)}configure(n){if(!A(n))return;const t=Object.keys(B.animation),i=this._properties;Object.getOwnPropertyNames(n).forEach(s=>{const o=n[s];if(!A(o))return;const r={};for(const a of t)r[a]=o[a];(j(o.properties)&&o.properties||[s]).forEach(a=>{(a===s||!i.has(a))&&i.set(a,r)})})}_animateOptions(n,t){const i=t.options,s=function uc(e,n){if(!n)return;let t=e.options;if(t)return t.$shared&&(e.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t;e.options=n}(n,i);if(!s)return[];const o=this._createAnimations(s,i);return i.$shared&&function dc(e,n){const t=[],i=Object.keys(n);for(let s=0;s<i.length;s++){const o=e[i[s]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}(n.options.$animations,i).then(()=>{n.options=i},()=>{}),o}_createAnimations(n,t){const i=this._properties,s=[],o=n.$animations||(n.$animations={}),r=Object.keys(t),a=Date.now();let c;for(c=r.length-1;c>=0;--c){const l=r[c];if("$"===l.charAt(0))continue;if("options"===l){s.push(...this._animateOptions(n,t));continue}const h=t[l];let d=o[l];const f=i.get(l);if(d){if(f&&d.active()){d.update(f,h,a);continue}d.cancel()}f&&f.duration?(o[l]=d=new hc(f,n,l,h),s.push(d)):n[l]=h}return s}update(n,t){if(0===this._properties.size)return void Object.assign(n,t);const i=this._createAnimations(n,t);return i.length?(bt.add(this._chart,i),!0):void 0}}function bs(e,n){const t=e&&e.options||{},i=t.reverse,s=void 0===t.min?n:0,o=void 0===t.max?n:0;return{start:i?o:s,end:i?s:o}}function _s(e,n){const t=[],i=e._getSortedDatasetMetas(n);let s,o;for(s=0,o=i.length;s<o;++s)t.push(i[s].index);return t}function ys(e,n,t,i={}){const s=e.keys,o="single"===i.mode;let r,a,c,l;if(null===n)return;let h=!1;for(r=0,a=s.length;r<a;++r){if(c=+s[r],c===t){if(h=!0,i.all)continue;break}l=e.values[c],W(l)&&(o||0===n||ct(n)===ct(l))&&(n+=l)}return h||i.all?n:0}function zn(e,n){const t=e&&e.options.stacked;return t||void 0===t&&void 0!==n.stack}function _c(e,n,t){const i=e[n]||(e[n]={});return i[t]||(i[t]={})}function xs(e,n,t,i){for(const s of n.getMatchingVisibleMetas(i).reverse()){const o=e[s.index];if(t&&o>0||!t&&o<0)return s.index}return null}function vs(e,n){const{chart:t,_cachedMeta:i}=e,s=t._stacks||(t._stacks={}),{iScale:o,vScale:r,index:a}=i,c=o.axis,l=r.axis,h=function mc(e,n,t){return`${e.id}.${n.id}.${t.stack||t.type}`}(o,r,i),d=n.length;let f;for(let g=0;g<d;++g){const p=n[g],{[c]:m,[l]:b}=p;f=(p._stacks||(p._stacks={}))[l]=_c(s,h,m),f[a]=b,f._top=xs(f,r,!0,i.type),f._bottom=xs(f,r,!1,i.type),(f._visualValues||(f._visualValues={}))[a]=b}}function Bn(e,n){const t=e.scales;return Object.keys(t).filter(i=>t[i].axis===n).shift()}function ge(e,n){const t=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){n=n||e._parsed;for(const s of n){const o=s._stacks;if(!o||void 0===o[i]||void 0===o[i][t])return;delete o[i][t],void 0!==o[i]._visualValues&&void 0!==o[i]._visualValues[t]&&delete o[i]._visualValues[t]}}}const Nn=e=>"reset"===e||"none"===e,Ms=(e,n)=>n?e:Object.assign({},e);let Ot=(()=>class e{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,i){this.chart=t,this._ctx=t.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=zn(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&ge(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,i=this._cachedMeta,s=this.getDataset(),o=(f,g,p,m)=>"x"===f?g:"r"===f?m:p,r=i.xAxisID=w(s.xAxisID,Bn(t,"x")),a=i.yAxisID=w(s.yAxisID,Bn(t,"y")),c=i.rAxisID=w(s.rAxisID,Bn(t,"r")),l=i.indexAxis,h=i.iAxisID=o(l,r,a,c),d=i.vAxisID=o(l,a,r,c);i.xScale=this.getScaleForId(r),i.yScale=this.getScaleForId(a),i.rScale=this.getScaleForId(c),i.iScale=this.getScaleForId(h),i.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const i=this._cachedMeta;return t===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Li(this._data,this),t._stacked&&ge(t)}_dataCheck(){const t=this.getDataset(),i=t.data||(t.data=[]),s=this._data;if(A(i))this._data=function pc(e,n){const{iScale:t,vScale:i}=n,s="x"===t.axis?"x":"y",o="x"===i.axis?"x":"y",r=Object.keys(e),a=new Array(r.length);let c,l,h;for(c=0,l=r.length;c<l;++c)h=r[c],a[c]={[s]:h,[o]:e[h]};return a}(i,this._cachedMeta);else if(s!==i){if(s){Li(s,this);const o=this._cachedMeta;ge(o),o._parsed=[]}i&&Object.isExtensible(i)&&function oa(e,n){e._chartjs?e._chartjs.listeners.push(n):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[n]}}),Ei.forEach(t=>{const i="_onData"+Mn(t),s=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(...o){const r=s.apply(this,o);return e._chartjs.listeners.forEach(a=>{"function"==typeof a[i]&&a[i](...o)}),r}})}))}(i,this),this._syncList=[],this._data=i}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const i=this._cachedMeta,s=this.getDataset();let o=!1;this._dataCheck();const r=i._stacked;i._stacked=zn(i.vScale,i),i.stack!==s.stack&&(o=!0,ge(i),i.stack=s.stack),this._resyncElements(t),(o||r!==i._stacked)&&(vs(this,i._parsed),i._stacked=zn(i.vScale,i))}configure(){const t=this.chart.config,i=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),i,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,i){const{_cachedMeta:s,_data:o}=this,{iScale:r,_stacked:a}=s,c=r.axis;let d,f,g,l=0===t&&i===o.length||s._sorted,h=t>0&&s._parsed[t-1];if(!1===this._parsing)s._parsed=o,s._sorted=!0,g=o;else{g=j(o[t])?this.parseArrayData(s,o,t,i):A(o[t])?this.parseObjectData(s,o,t,i):this.parsePrimitiveData(s,o,t,i);const p=()=>null===f[c]||h&&f[c]<h[c];for(d=0;d<i;++d)s._parsed[d+t]=f=g[d],l&&(p()&&(l=!1),h=f);s._sorted=l}a&&vs(this,g)}parsePrimitiveData(t,i,s,o){const{iScale:r,vScale:a}=t,c=r.axis,l=a.axis,h=r.getLabels(),d=r===a,f=new Array(o);let g,p,m;for(g=0,p=o;g<p;++g)m=g+s,f[g]={[c]:d||r.parse(h[m],m),[l]:a.parse(i[m],m)};return f}parseArrayData(t,i,s,o){const{xScale:r,yScale:a}=t,c=new Array(o);let l,h,d,f;for(l=0,h=o;l<h;++l)d=l+s,f=i[d],c[l]={x:r.parse(f[0],d),y:a.parse(f[1],d)};return c}parseObjectData(t,i,s,o){const{xScale:r,yScale:a}=t,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,h=new Array(o);let d,f,g,p;for(d=0,f=o;d<f;++d)g=d+s,p=i[g],h[d]={x:r.parse(vt(p,c),g),y:a.parse(vt(p,l),g)};return h}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,i,s){const r=this._cachedMeta,a=i[t.axis];return ys({keys:_s(this.chart,!0),values:i._stacks[t.axis]._visualValues},a,r.index,{mode:s})}updateRangeFromParsed(t,i,s,o){const r=s[i.axis];let a=null===r?NaN:r;const c=o&&s._stacks[i.axis];o&&c&&(o.values=c,a=ys(o,r,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,i){const s=this._cachedMeta,o=s._parsed,r=s._sorted&&t===s.iScale,a=o.length,c=this._getOtherScale(t),l=((e,n)=>e&&!n.hidden&&n._stacked&&{keys:_s(this.chart,!0),values:null})(i,s),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=function bc(e){const{min:n,max:t,minDefined:i,maxDefined:s}=e.getUserBounds();return{min:i?n:Number.NEGATIVE_INFINITY,max:s?t:Number.POSITIVE_INFINITY}}(c);let g,p;function m(){p=o[g];const b=p[c.axis];return!W(p[t.axis])||d>b||f<b}for(g=0;g<a&&(m()||(this.updateRangeFromParsed(h,t,p,l),!r));++g);if(r)for(g=a-1;g>=0;--g)if(!m()){this.updateRangeFromParsed(h,t,p,l);break}return h}getAllParsedValues(t){const i=this._cachedMeta._parsed,s=[];let o,r,a;for(o=0,r=i.length;o<r;++o)a=i[o][t.axis],W(a)&&s.push(a);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const i=this._cachedMeta,s=i.iScale,o=i.vScale,r=this.getParsed(t);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:o?""+o.getLabelForValue(r[o.axis]):""}}_update(t){const i=this._cachedMeta;this.update(t||"default"),i._clip=function gc(e){let n,t,i,s;return A(e)?(n=e.top,t=e.right,i=e.bottom,s=e.left):n=t=i=s=e,{top:n,right:t,bottom:i,left:s,disabled:!1===e}}(w(this.options.clip,function fc(e,n,t){if(!1===t)return!1;const i=bs(e,t),s=bs(n,t);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}(i.xScale,i.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,s=this._cachedMeta,o=s.data||[],r=this.chart.chartArea,a=[],c=this._drawStart||0,l=this._drawCount||o.length-c,h=this.options.drawActiveElementsOnTop;let d;for(s.dataset&&s.dataset.draw(t,r,c,l),d=c;d<c+l;++d){const f=o[d];f.hidden||(f.active&&h?a.push(f):f.draw(t,r))}for(d=0;d<a.length;++d)a[d].draw(t,r)}getStyle(t,i){const s=i?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,i,s){const o=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const a=this._cachedMeta.data[t];r=a.$context||(a.$context=function xc(e,n,t){return Pt(e,{active:!1,dataIndex:n,parsed:void 0,raw:void 0,element:t,index:n,mode:"default",type:"data"})}(this.getContext(),t,a)),r.parsed=this.getParsed(t),r.raw=o.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=function yc(e,n){return Pt(e,{active:!1,dataset:void 0,datasetIndex:n,index:n,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),r.dataset=o,r.index=r.datasetIndex=this.index;return r.active=!!i,r.mode=s,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,i){return this._resolveElementOptions(this.dataElementType.id,i,t)}_resolveElementOptions(t,i="default",s){const o="active"===i,r=this._cachedDataOpts,a=t+"-"+i,c=r[a],l=this.enableOptionSharing&&re(s);if(c)return Ms(c,l);const h=this.chart.config,d=h.datasetElementScopeKeys(this._type,t),f=o?[`${t}Hover`,"hover",t,""]:[t,""],g=h.getOptionScopes(this.getDataset(),d),p=Object.keys(B.elements[t]),b=h.resolveNamedOptions(g,p,()=>this.getContext(s,o,i),f);return b.$shared&&(b.$shared=l,r[a]=Object.freeze(Ms(b,l))),b}_resolveAnimations(t,i,s){const o=this.chart,r=this._cachedDataOpts,a=`animation-${i}`,c=r[a];if(c)return c;let l;if(!1!==o.options.animation){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,i),g=d.getOptionScopes(this.getDataset(),f);l=d.createResolver(g,this.getContext(t,s,i))}const h=new ms(o,l&&l.animations);return l&&l._cacheable&&(r[a]=Object.freeze(h)),h}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,i){return!i||Nn(t)||this.chart._animationsDisabled}_getSharedOptions(t,i){const s=this.resolveDataElementOptions(t,i),o=this._sharedOptions,r=this.getSharedOptions(s),a=this.includeOptions(i,r)||r!==o;return this.updateSharedOptions(r,i,s),{sharedOptions:r,includeOptions:a}}updateElement(t,i,s,o){Nn(o)?Object.assign(t,s):this._resolveAnimations(i,o).update(t,s)}updateSharedOptions(t,i,s){t&&!Nn(i)&&this._resolveAnimations(void 0,i).update(t,s)}_setStyle(t,i,s,o){t.active=o;const r=this.getStyle(i,o);this._resolveAnimations(i,s,o).update(t,{options:!o&&this.getSharedOptions(r)||r})}removeHoverStyle(t,i,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,i,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const i=this._data,s=this._cachedMeta.data;for(const[c,l,h]of this._syncList)this[c](l,h);this._syncList=[];const o=s.length,r=i.length,a=Math.min(r,o);a&&this.parse(0,a),r>o?this._insertElements(o,r-o,t):r<o&&this._removeElements(r,o-r)}_insertElements(t,i,s=!0){const o=this._cachedMeta,r=o.data,a=t+i;let c;const l=h=>{for(h.length+=i,c=h.length-1;c>=a;c--)h[c]=h[c-i]};for(l(r),c=t;c<a;++c)r[c]=new this.dataElementType;this._parsing&&l(o._parsed),this.parse(t,i),s&&this.updateElements(r,t,i,"reset")}updateElements(t,i,s,o){}_removeElements(t,i){const s=this._cachedMeta;if(this._parsing){const o=s._parsed.splice(t,i);s._stacked&&ge(s,o)}s.data.splice(t,i)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[i,s,o]=t;this[i](s,o)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,i){i&&this._sync(["_removeElements",t,i]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}})();function zc(e,n,t,i){const{controller:s,data:o,_sorted:r}=e,a=s._cachedMeta.iScale,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&n===a.axis&&"r"!==n&&r&&o.length){const l=a._reversePixels?ia:pt;if(!i){const h=l(o,n,t);if(c){const{vScale:d}=s._cachedMeta,{_parsed:f}=e,g=f.slice(0,h.lo+1).reverse().findIndex(m=>!T(m[d.axis]));h.lo-=Math.max(0,g);const p=f.slice(h.hi).findIndex(m=>!T(m[d.axis]));h.hi+=Math.max(0,p)}return h}if(s._sharedOptions){const h=o[0],d="function"==typeof h.getRange&&h.getRange(n);if(d){const f=l(o,n,t-d),g=l(o,n,t+d);return{lo:f.lo,hi:g.hi}}}}return{lo:0,hi:o.length-1}}function pe(e,n,t,i,s){const o=e.getSortedVisibleDatasetMetas(),r=t[n];for(let a=0,c=o.length;a<c;++a){const{index:l,data:h}=o[a],{lo:d,hi:f}=zc(o[a],n,r,s);for(let g=d;g<=f;++g){const p=h[g];p.skip||i(p,l,g)}}}function $n(e,n,t,i,s){const o=[];return!s&&!e.isPointInArea(n)||pe(e,t,n,function(a,c,l){!s&&!mt(a,e.chartArea,0)||a.inRange(n.x,n.y,i)&&o.push({element:a,datasetIndex:c,index:l})},!0),o}function Un(e,n,t,i,s,o){return o||e.isPointInArea(n)?"r"!==t||i?function Vc(e,n,t,i,s,o){let r=[];const a=function Bc(e){const n=-1!==e.indexOf("x"),t=-1!==e.indexOf("y");return function(i,s){const o=n?Math.abs(i.x-s.x):0,r=t?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(r,2))}}(t);let c=Number.POSITIVE_INFINITY;return pe(e,t,n,function l(h,d,f){const g=h.inRange(n.x,n.y,s);if(i&&!g)return;const p=h.getCenterPoint(s);if(!o&&!e.isPointInArea(p)&&!g)return;const b=a(n,p);b<c?(r=[{element:h,datasetIndex:d,index:f}],c=b):b===c&&r.push({element:h,datasetIndex:d,index:f})}),r}(e,n,t,i,s,o):function Nc(e,n,t,i){let s=[];return pe(e,t,n,function o(r,a,c){const{startAngle:l,endAngle:h}=r.getProps(["startAngle","endAngle"],i),{angle:d}=function Ii(e,n){const t=n.x-e.x,i=n.y-e.y,s=Math.sqrt(t*t+i*i);let o=Math.atan2(i,t);return o<-.5*F&&(o+=z),{angle:o,distance:s}}(r,{x:n.x,y:n.y});(function ce(e,n,t,i){const s=K(e),o=K(n),r=K(t),a=K(o-s),c=K(r-s),l=K(s-o),h=K(s-r);return s===o||s===r||i&&o===r||a>c&&l<h})(d,l,h)&&s.push({element:r,datasetIndex:a,index:c})}),s}(e,n,t,s):[]}function ks(e,n,t,i,s){const o=[],r="x"===t?"inXRange":"inYRange";let a=!1;return pe(e,t,n,(c,l,h)=>{c[r]&&c[r](n[t],s)&&(o.push({element:c,datasetIndex:l,index:h}),a=a||c.inRange(n.x,n.y,s))}),i&&!a?[]:o}var Wc={evaluateInteractionItems:pe,modes:{index(e,n,t,i){const s=Ft(n,e),o=t.axis||"x",r=t.includeInvisible||!1,a=t.intersect?$n(e,s,o,i,r):Un(e,s,o,!1,i,r),c=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(l=>{const h=a[0].index,d=l.data[h];d&&!d.skip&&c.push({element:d,datasetIndex:l.index,index:h})}),c):[]},dataset(e,n,t,i){const s=Ft(n,e),o=t.axis||"xy",r=t.includeInvisible||!1;let a=t.intersect?$n(e,s,o,i,r):Un(e,s,o,!1,i,r);if(a.length>0){const c=a[0].datasetIndex,l=e.getDatasetMeta(c).data;a=[];for(let h=0;h<l.length;++h)a.push({element:l[h],datasetIndex:c,index:h})}return a},point:(e,n,t,i)=>$n(e,Ft(n,e),t.axis||"xy",i,t.includeInvisible||!1),nearest:(e,n,t,i)=>Un(e,Ft(n,e),t.axis||"xy",t.intersect,i,t.includeInvisible||!1),x:(e,n,t,i)=>ks(e,Ft(n,e),"x",t.intersect,i),y:(e,n,t,i)=>ks(e,Ft(n,e),"y",t.intersect,i)}};const Ds=["left","top","right","bottom"];function me(e,n){return e.filter(t=>t.pos===n)}function Ts(e,n){return e.filter(t=>-1===Ds.indexOf(t.pos)&&t.box.axis===n)}function be(e,n){return e.sort((t,i)=>{const s=n?i:t,o=n?t:i;return s.weight===o.weight?s.index-o.index:s.weight-o.weight})}function As(e,n,t,i){return Math.max(e[t],n[t])+Math.max(e[i],n[i])}function Rs(e,n){e.top=Math.max(e.top,n.top),e.left=Math.max(e.left,n.left),e.bottom=Math.max(e.bottom,n.bottom),e.right=Math.max(e.right,n.right)}function Xc(e,n,t,i){const{pos:s,box:o}=t,r=e.maxPadding;if(!A(s)){t.size&&(e[s]-=t.size);const d=i[t.stack]||{size:0,count:1};d.size=Math.max(d.size,t.horizontal?o.height:o.width),t.size=d.size/d.count,e[s]+=t.size}o.getPadding&&Rs(r,o.getPadding());const a=Math.max(0,n.outerWidth-As(r,e,"left","right")),c=Math.max(0,n.outerHeight-As(r,e,"top","bottom")),l=a!==e.w,h=c!==e.h;return e.w=a,e.h=c,t.horizontal?{same:l,other:h}:{same:h,other:l}}function Kc(e,n){const t=n.maxPadding;return function i(s){const o={left:0,top:0,right:0,bottom:0};return s.forEach(r=>{o[r]=Math.max(n[r],t[r])}),o}(e?["left","right"]:["top","bottom"])}function _e(e,n,t,i){const s=[];let o,r,a,c,l,h;for(o=0,r=e.length,l=0;o<r;++o){a=e[o],c=a.box,c.update(a.width||n.w,a.height||n.h,Kc(a.horizontal,n));const{same:d,other:f}=Xc(n,t,a,i);l|=d&&s.length,h=h||f,c.fullSize||s.push(a)}return l&&_e(s,n,t,i)||h}function Xe(e,n,t,i,s){e.top=t,e.left=n,e.right=n+i,e.bottom=t+s,e.width=i,e.height=s}function Fs(e,n,t,i){const s=t.padding;let{x:o,y:r}=n;for(const a of e){const c=a.box,l=i[a.stack]||{count:1,placed:0,weight:1},h=a.stackWeight/l.weight||1;if(a.horizontal){const d=n.w*h,f=l.size||c.height;re(l.start)&&(r=l.start),c.fullSize?Xe(c,s.left,r,t.outerWidth-s.right-s.left,f):Xe(c,n.left+l.placed,r,d,f),l.start=r,l.placed+=d,r=c.bottom}else{const d=n.h*h,f=l.size||c.width;re(l.start)&&(o=l.start),c.fullSize?Xe(c,o,s.top,f,t.outerHeight-s.bottom-s.top):Xe(c,o,n.top+l.placed,f,d),l.start=o,l.placed+=d,o=c.right}}n.x=o,n.y=r}var Z={addBox(e,n){e.boxes||(e.boxes=[]),n.fullSize=n.fullSize||!1,n.position=n.position||"top",n.weight=n.weight||0,n._layers=n._layers||function(){return[{z:0,draw(t){n.draw(t)}}]},e.boxes.push(n)},removeBox(e,n){const t=e.boxes?e.boxes.indexOf(n):-1;-1!==t&&e.boxes.splice(t,1)},configure(e,n,t){n.fullSize=t.fullSize,n.position=t.position,n.weight=t.weight},update(e,n,t,i){if(!e)return;const s=J(e.options.layout.padding),o=Math.max(n-s.width,0),r=Math.max(t-s.height,0),a=function Yc(e){const n=function Hc(e){const n=[];let t,i,s,o,r,a;for(t=0,i=(e||[]).length;t<i;++t)s=e[t],({position:o,options:{stack:r,stackWeight:a=1}}=s),n.push({index:t,box:s,pos:o,horizontal:s.isHorizontal(),weight:s.weight,stack:r&&o+r,stackWeight:a});return n}(e),t=be(n.filter(l=>l.box.fullSize),!0),i=be(me(n,"left"),!0),s=be(me(n,"right")),o=be(me(n,"top"),!0),r=be(me(n,"bottom")),a=Ts(n,"x"),c=Ts(n,"y");return{fullSize:t,leftAndTop:i.concat(o),rightAndBottom:s.concat(c).concat(r).concat(a),chartArea:me(n,"chartArea"),vertical:i.concat(s).concat(c),horizontal:o.concat(r).concat(a)}}(e.boxes),c=a.vertical,l=a.horizontal;I(e.boxes,m=>{"function"==typeof m.beforeLayout&&m.beforeLayout()});const h=c.reduce((m,b)=>b.box.options&&!1===b.box.options.display?m:m+1,0)||1,d=Object.freeze({outerWidth:n,outerHeight:t,padding:s,availableWidth:o,availableHeight:r,vBoxMaxWidth:o/2/h,hBoxMaxHeight:r/2}),f=Object.assign({},s);Rs(f,J(i));const g=Object.assign({maxPadding:f,w:o,h:r,x:s.left,y:s.top},s),p=function Uc(e,n){const t=function $c(e){const n={};for(const t of e){const{stack:i,pos:s,stackWeight:o}=t;if(!i||!Ds.includes(s))continue;const r=n[i]||(n[i]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=o}return n}(e),{vBoxMaxWidth:i,hBoxMaxHeight:s}=n;let o,r,a;for(o=0,r=e.length;o<r;++o){a=e[o];const{fullSize:c}=a.box,l=t[a.stack],h=l&&a.stackWeight/l.weight;a.horizontal?(a.width=h?h*i:c&&n.availableWidth,a.height=s):(a.width=i,a.height=h?h*s:c&&n.availableHeight)}return t}(c.concat(l),d);_e(a.fullSize,g,d,p),_e(c,g,d,p),_e(l,g,d,p)&&_e(c,g,d,p),function Gc(e){const n=e.maxPadding;function t(i){const s=Math.max(n[i]-e[i],0);return e[i]+=s,s}e.y+=t("top"),e.x+=t("left"),t("right"),t("bottom")}(g),Fs(a.leftAndTop,g,d,p),g.x+=g.w,g.y+=g.h,Fs(a.rightAndBottom,g,d,p),e.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},I(a.chartArea,m=>{const b=m.box;Object.assign(b,e.chartArea),b.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class Is{acquireContext(n,t){}releaseContext(n){return!1}addEventListener(n,t,i){}removeEventListener(n,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(n,t,i,s){return t=Math.max(0,t||n.width),i=i||n.height,{width:t,height:Math.max(0,s?Math.floor(t/s):i)}}isAttached(n){return!0}updateConfig(n){}}class qc extends Is{acquireContext(n){return n&&n.getContext&&n.getContext("2d")||null}updateConfig(n){n.options.animation=!1}}const Ge="$chartjs",Jc={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Es=e=>null===e||""===e,Ls=!!qa&&{passive:!0};function tl(e,n,t){e&&e.canvas&&e.canvas.removeEventListener(n,t,Ls)}function Ke(e,n){for(const t of e)if(t===n||t.contains(n))return!0}function nl(e,n,t){const i=e.canvas,s=new MutationObserver(o=>{let r=!1;for(const a of o)r=r||Ke(a.addedNodes,i),r=r&&!Ke(a.removedNodes,i);r&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}function il(e,n,t){const i=e.canvas,s=new MutationObserver(o=>{let r=!1;for(const a of o)r=r||Ke(a.removedNodes,i),r=r&&!Ke(a.addedNodes,i);r&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}const ye=new Map;let js=0;function zs(){const e=window.devicePixelRatio;e!==js&&(js=e,ye.forEach((n,t)=>{t.currentDevicePixelRatio!==e&&n()}))}function rl(e,n,t){const i=e.canvas,s=i&&jn(i);if(!s)return;const o=Bi((a,c)=>{const l=s.clientWidth;t(a,c),l<s.clientWidth&&t()},window),r=new ResizeObserver(a=>{const c=a[0],l=c.contentRect.width,h=c.contentRect.height;0===l&&0===h||o(l,h)});return r.observe(s),function sl(e,n){ye.size||window.addEventListener("resize",zs),ye.set(e,n)}(e,o),r}function Yn(e,n,t){t&&t.disconnect(),"resize"===n&&function ol(e){ye.delete(e),ye.size||window.removeEventListener("resize",zs)}(e)}function al(e,n,t){const i=e.canvas,s=Bi(o=>{null!==e.ctx&&t(function el(e,n){const t=Jc[e.type]||e.type,{x:i,y:s}=Ft(e,n);return{type:t,chart:n,native:e,x:void 0!==i?i:null,y:void 0!==s?s:null}}(o,e))},e);return function Qc(e,n,t){e&&e.addEventListener(n,t,Ls)}(i,n,s),s}class cl extends Is{acquireContext(n,t){const i=n&&n.getContext&&n.getContext("2d");return i&&i.canvas===n?(function Zc(e,n){const t=e.style,i=e.getAttribute("height"),s=e.getAttribute("width");if(e[Ge]={initial:{height:i,width:s,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Es(s)){const o=os(e,"width");void 0!==o&&(e.width=o)}if(Es(i))if(""===e.style.height)e.height=e.width/(n||2);else{const o=os(e,"height");void 0!==o&&(e.height=o)}}(n,t),i):null}releaseContext(n){const t=n.canvas;if(!t[Ge])return!1;const i=t[Ge].initial;["height","width"].forEach(o=>{const r=i[o];T(r)?t.removeAttribute(o):t.setAttribute(o,r)});const s=i.style||{};return Object.keys(s).forEach(o=>{t.style[o]=s[o]}),t.width=t.width,delete t[Ge],!0}addEventListener(n,t,i){this.removeEventListener(n,t),(n.$proxies||(n.$proxies={}))[t]=({attach:nl,detach:il,resize:rl}[t]||al)(n,t,i)}removeEventListener(n,t){const i=n.$proxies||(n.$proxies={}),s=i[t];s&&(({attach:Yn,detach:Yn,resize:Yn}[t]||tl)(n,t,s),i[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(n,t,i,s){return function Ka(e,n,t,i){const s=$e(e),o=Rt(s,"margin"),r=He(s.maxWidth,e,"clientWidth")||Le,a=He(s.maxHeight,e,"clientHeight")||Le,c=function Ga(e,n,t){let i,s;if(void 0===n||void 0===t){const o=e&&jn(e);if(o){const r=o.getBoundingClientRect(),a=$e(o),c=Rt(a,"border","width"),l=Rt(a,"padding");n=r.width-l.width-c.width,t=r.height-l.height-c.height,i=He(a.maxWidth,o,"clientWidth"),s=He(a.maxHeight,o,"clientHeight")}else n=e.clientWidth,t=e.clientHeight}return{width:n,height:t,maxWidth:i||Le,maxHeight:s||Le}}(e,n,t);let{width:l,height:h}=c;if("content-box"===s.boxSizing){const f=Rt(s,"border","width"),g=Rt(s,"padding");l-=g.width+f.width,h-=g.height+f.height}return l=Math.max(0,l-o.width),h=Math.max(0,i?l/i:h-o.height),l=Ue(Math.min(l,r,c.maxWidth)),h=Ue(Math.min(h,a,c.maxHeight)),l&&!h&&(h=Ue(l/2)),(void 0!==n||void 0!==t)&&i&&c.height&&h>c.height&&(h=c.height,l=Ue(Math.floor(h*i))),{width:l,height:h}}(n,t,i,s)}isAttached(n){const t=n&&jn(n);return!(!t||!t.isConnected)}}class _t{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(n){const{x:t,y:i}=this.getProps(["x","y"],n);return{x:t,y:i}}hasValue(){return $t(this.x)&&$t(this.y)}getProps(n,t){const i=this.$animations;if(!t||!i)return this;const s={};return n.forEach(o=>{s[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),s}}function qe(e,n,t,i,s){const o=w(i,0),r=Math.min(w(s,e.length),e.length);let c,l,h,a=0;for(t=Math.ceil(t),s&&(c=s-i,t=c/Math.floor(c/t)),h=o;h<0;)a++,h=Math.round(o+a*t);for(l=Math.max(o,0);l<r;l++)l===h&&(n.push(e[l]),a++,h=Math.round(o+a*t))}const Bs=(e,n,t)=>"top"===n||"left"===n?e[n]+t:e[n]-t,Ns=(e,n)=>Math.min(n||e,e);function Vs(e,n){const t=[],i=e.length/n,s=e.length;let o=0;for(;o<s;o+=i)t.push(e[Math.floor(o)]);return t}function bl(e,n,t){const i=e.ticks.length,s=Math.min(n,i-1),o=e._startPixel,r=e._endPixel,a=1e-6;let l,c=e.getPixelForTick(s);if(!(t&&(l=1===i?Math.max(c-o,r-c):0===n?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(s-1))/2,c+=s<n?l:-l,c<o-a||c>r+a)))return c}function xe(e){return e.drawTicks?e.tickLength:0}function Ws(e,n){if(!e.display)return 0;const t=Y(e.font,n),i=J(e.padding);return(j(e.text)?e.text.length:1)*t.lineHeight+i.height}function vl(e,n,t){let i=(e=>"start"===e?"left":"end"===e?"right":"center")(e);return(t&&"right"!==n||!t&&"right"===n)&&(i=(e=>"left"===e?"right":"right"===e?"left":e)(i)),i}class Lt extends _t{constructor(n){super(),this.id=n.id,this.type=n.type,this.options=void 0,this.ctx=n.ctx,this.chart=n.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(n){this.options=n.setContext(this.getContext()),this.axis=n.axis,this._userMin=this.parse(n.min),this._userMax=this.parse(n.max),this._suggestedMin=this.parse(n.suggestedMin),this._suggestedMax=this.parse(n.suggestedMax)}parse(n,t){return n}getUserBounds(){let{_userMin:n,_userMax:t,_suggestedMin:i,_suggestedMax:s}=this;return n=it(n,Number.POSITIVE_INFINITY),t=it(t,Number.NEGATIVE_INFINITY),i=it(i,Number.POSITIVE_INFINITY),s=it(s,Number.NEGATIVE_INFINITY),{min:it(n,i),max:it(t,s),minDefined:W(n),maxDefined:W(t)}}getMinMax(n){let r,{min:t,max:i,minDefined:s,maxDefined:o}=this.getUserBounds();if(s&&o)return{min:t,max:i};const a=this.getMatchingVisibleMetas();for(let c=0,l=a.length;c<l;++c)r=a[c].controller.getMinMax(this,n),s||(t=Math.min(t,r.min)),o||(i=Math.max(i,r.max));return t=o&&t>i?i:t,i=s&&t>i?t:i,{min:it(t,it(i,t)),max:it(i,it(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const n=this.chart.data;return this.options.labels||(this.isHorizontal()?n.xLabels:n.yLabels)||n.labels||[]}getLabelItems(n=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(n))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){L(this.options.beforeUpdate,[this])}update(n,t,i){const{beginAtZero:s,grace:o,ticks:r}=this.options,a=r.sampleSize;this.beforeUpdate(),this.maxWidth=n,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function wa(e,n,t){const{min:i,max:s}=e,o=((e,n)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*n:+e)(n,(s-i)/2),r=(a,c)=>t&&0===a?0:a+c;return{min:r(i,-Math.abs(o)),max:r(s,o)}}(this,o,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=a<this.ticks.length;this._convertTicksToLabels(c?Vs(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||"auto"===r.source)&&(this.ticks=function hl(e,n){const t=e.options.ticks,i=function dl(e){const n=e.options.offset,t=e._tickSize();return Math.floor(Math.min(e._length/t+(n?0:1),e._maxLength/t))}(e),s=Math.min(t.maxTicksLimit||i,i),o=t.major.enabled?function fl(e){const n=[];let t,i;for(t=0,i=e.length;t<i;t++)e[t].major&&n.push(t);return n}(n):[],r=o.length,a=o[0],c=o[r-1],l=[];if(r>s)return function gl(e,n,t,i){let r,s=0,o=t[0];for(i=Math.ceil(i),r=0;r<e.length;r++)r===o&&(n.push(e[r]),s++,o=t[s*i])}(n,l,o,r/s),l;const h=function ul(e,n,t){const i=function pl(e){const n=e.length;let t,i;if(n<2)return!1;for(i=e[0],t=1;t<n;++t)if(e[t]-e[t-1]!==i)return!1;return i}(e),s=n.length/t;if(!i)return Math.max(s,1);const o=function Zr(e){const n=[],t=Math.sqrt(e);let i;for(i=1;i<t;i++)e%i===0&&(n.push(i),n.push(e/i));return t===(0|t)&&n.push(t),n.sort((s,o)=>s-o).pop(),n}(i);for(let r=0,a=o.length-1;r<a;r++){const c=o[r];if(c>s)return c}return Math.max(s,1)}(o,n,s);if(r>0){let d,f;const g=r>1?Math.round((c-a)/(r-1)):null;for(qe(n,l,h,T(g)?0:a-g,a),d=0,f=r-1;d<f;d++)qe(n,l,h,o[d],o[d+1]);return qe(n,l,h,c,T(g)?n.length:c+g),l}return qe(n,l,h),l}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,i,n=this.options.reverse;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,n=!n),this._startPixel=t,this._endPixel=i,this._reversePixels=n,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){L(this.options.afterUpdate,[this])}beforeSetDimensions(){L(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){L(this.options.afterSetDimensions,[this])}_callHooks(n){this.chart.notifyPlugins(n,this.getContext()),L(this.options[n],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){L(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(n){const t=this.options.ticks;let i,s,o;for(i=0,s=n.length;i<s;i++)o=n[i],o.label=L(t.callback,[o.value,i,n],this)}afterTickToLabelConversion(){L(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){L(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const n=this.options,t=n.ticks,i=Ns(this.ticks.length,n.ticks.maxTicksLimit),s=t.minRotation||0,o=t.maxRotation;let a,c,l,r=s;if(!this._isVisible()||!t.display||s>=o||i<=1||!this.isHorizontal())return void(this.labelRotation=s);const h=this._getLabelSizes(),d=h.widest.width,f=h.highest.height,g=X(this.chart.width-d,0,this.maxWidth);a=n.offset?this.maxWidth/i:g/(i-1),d+6>a&&(a=g/(i-(n.offset?.5:1)),c=this.maxHeight-xe(n.grid)-t.padding-Ws(n.title,this.chart.options.font),l=Math.sqrt(d*d+f*f),r=function Cn(e){return e*(180/F)}(Math.min(Math.asin(X((h.highest.height+6)/a,-1,1)),Math.asin(X(c/l,-1,1))-Math.asin(X(f/l,-1,1)))),r=Math.max(s,Math.min(o,r))),this.labelRotation=r}afterCalculateLabelRotation(){L(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){L(this.options.beforeFit,[this])}fit(){const n={width:0,height:0},{chart:t,options:{ticks:i,title:s,grid:o}}=this,r=this._isVisible(),a=this.isHorizontal();if(r){const c=Ws(s,t.options.font);if(a?(n.width=this.maxWidth,n.height=xe(o)+c):(n.height=this.maxHeight,n.width=xe(o)+c),i.display&&this.ticks.length){const{first:l,last:h,widest:d,highest:f}=this._getLabelSizes(),g=2*i.padding,p=rt(this.labelRotation),m=Math.cos(p),b=Math.sin(p);a?n.height=Math.min(this.maxHeight,n.height+(i.mirror?0:b*d.width+m*f.height)+g):n.width=Math.min(this.maxWidth,n.width+(i.mirror?0:m*d.width+b*f.height)+g),this._calculatePadding(l,h,b,m)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=n.height):(this.width=n.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(n,t,i,s){const{ticks:{align:o,padding:r},position:a}=this.options,c=0!==this.labelRotation,l="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,g=0;c?l?(f=s*n.width,g=i*t.height):(f=i*n.height,g=s*t.width):"start"===o?g=t.width:"end"===o?f=n.width:"inner"!==o&&(f=n.width/2,g=t.width/2),this.paddingLeft=Math.max((f-h+r)*this.width/(this.width-h),0),this.paddingRight=Math.max((g-d+r)*this.width/(this.width-d),0)}else{let h=t.height/2,d=n.height/2;"start"===o?(h=0,d=n.height):"end"===o&&(h=t.height,d=0),this.paddingTop=h+r,this.paddingBottom=d+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){L(this.options.afterFit,[this])}isHorizontal(){const{axis:n,position:t}=this.options;return"top"===t||"bottom"===t||"x"===n}isFullSize(){return this.options.fullSize}_convertTicksToLabels(n){let t,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(n),t=0,i=n.length;t<i;t++)T(n[t].label)&&(n.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let n=this._labelSizes;if(!n){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=Vs(i,t)),this._labelSizes=n=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return n}_computeLabelSizes(n,t,i){const{ctx:s,_longestTextCache:o}=this,r=[],a=[],c=Math.floor(t/Ns(t,i));let d,f,g,p,m,b,_,y,v,C,x,l=0,h=0;for(d=0;d<t;d+=c){if(p=n[d].label,m=this._resolveTickFontOptions(d),s.font=b=m.string,_=o[b]=o[b]||{data:{},gc:[]},y=m.lineHeight,v=C=0,T(p)||j(p)){if(j(p))for(f=0,g=p.length;f<g;++f)x=p[f],!T(x)&&!j(x)&&(v=Be(s,_.data,_.gc,v,x),C+=y)}else v=Be(s,_.data,_.gc,v,p),C=y;r.push(v),a.push(C),l=Math.max(v,l),h=Math.max(C,h)}!function _l(e,n){I(e,t=>{const i=t.gc,s=i.length/2;let o;if(s>n){for(o=0;o<s;++o)delete t.data[i[o]];i.splice(0,s)}})}(o,t);const M=r.indexOf(l),O=a.indexOf(h),P=S=>({width:r[S]||0,height:a[S]||0});return{first:P(0),last:P(t-1),widest:P(M),highest:P(O),widths:r,heights:a}}getLabelForValue(n){return n}getPixelForValue(n,t){return NaN}getValueForPixel(n){}getPixelForTick(n){const t=this.ticks;return n<0||n>t.length-1?null:this.getPixelForValue(t[n].value)}getPixelForDecimal(n){this._reversePixels&&(n=1-n);const t=this._startPixel+n*this._length;return function na(e){return X(e,-32768,32767)}(this._alignToPixels?Dt(this.chart,t,0):t)}getDecimalForPixel(n){const t=(n-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:n,max:t}=this;return n<0&&t<0?t:n>0&&t>0?n:0}getContext(n){const t=this.ticks||[];if(n>=0&&n<t.length){const i=t[n];return i.$context||(i.$context=function xl(e,n,t){return Pt(e,{tick:t,index:n,type:"tick"})}(this.getContext(),n,i))}return this.$context||(this.$context=function yl(e,n){return Pt(e,{scale:n,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const n=this.options.ticks,t=rt(this.labelRotation),i=Math.abs(Math.cos(t)),s=Math.abs(Math.sin(t)),o=this._getLabelSizes(),r=n.autoSkipPadding||0,a=o?o.widest.width+r:0,c=o?o.highest.height+r:0;return this.isHorizontal()?c*i>a*s?a/i:c/s:c*s<a*i?c/i:a/s}_isVisible(){const n=this.options.display;return"auto"!==n?!!n:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(n){const t=this.axis,i=this.chart,s=this.options,{grid:o,position:r,border:a}=s,c=o.offset,l=this.isHorizontal(),d=this.ticks.length+(c?1:0),f=xe(o),g=[],p=a.setContext(this.getContext()),m=p.display?p.width:0,b=m/2,_=function(V){return Dt(i,V,m)};let y,v,C,x,M,O,P,S,D,k,R,G;if("top"===r)y=_(this.bottom),O=this.bottom-f,S=y-b,k=_(n.top)+b,G=n.bottom;else if("bottom"===r)y=_(this.top),k=n.top,G=_(n.bottom)-b,O=y+b,S=this.top+f;else if("left"===r)y=_(this.right),M=this.right-f,P=y-b,D=_(n.left)+b,R=n.right;else if("right"===r)y=_(this.left),D=n.left,R=_(n.right)-b,M=y+b,P=this.left+f;else if("x"===t){if("center"===r)y=_((n.top+n.bottom)/2+.5);else if(A(r)){const V=Object.keys(r)[0];y=_(this.chart.scales[V].getPixelForValue(r[V]))}k=n.top,G=n.bottom,O=y+b,S=O+f}else if("y"===t){if("center"===r)y=_((n.left+n.right)/2);else if(A(r)){const V=Object.keys(r)[0];y=_(this.chart.scales[V].getPixelForValue(r[V]))}M=y-b,P=M-f,D=n.left,R=n.right}const st=w(s.ticks.maxTicksLimit,d),E=Math.max(1,Math.ceil(d/st));for(v=0;v<d;v+=E){const V=this.getContext(v),U=o.setContext(V),at=a.setContext(V),Q=U.lineWidth,ee=U.color,mn=at.dash||[],ne=at.dashOffset,ke=U.tickWidth,Bt=U.tickColor,De=U.tickBorderDash||[],Nt=U.tickBorderDashOffset;C=bl(this,v,c),void 0!==C&&(x=Dt(i,C,Q),l?M=P=D=R=x:O=S=k=G=x,g.push({tx1:M,ty1:O,tx2:P,ty2:S,x1:D,y1:k,x2:R,y2:G,width:Q,color:ee,borderDash:mn,borderDashOffset:ne,tickWidth:ke,tickColor:Bt,tickBorderDash:De,tickBorderDashOffset:Nt}))}return this._ticksLength=d,this._borderValue=y,g}_computeLabelItems(n){const t=this.axis,i=this.options,{position:s,ticks:o}=i,r=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:l,padding:h,mirror:d}=o,f=xe(i.grid),g=f+h,p=d?-h:g,m=-rt(this.labelRotation),b=[];let _,y,v,C,x,M,O,P,S,D,k,R,G="middle";if("top"===s)M=this.bottom-p,O=this._getXAxisLabelAlignment();else if("bottom"===s)M=this.top+p,O=this._getXAxisLabelAlignment();else if("left"===s){const E=this._getYAxisLabelAlignment(f);O=E.textAlign,x=E.x}else if("right"===s){const E=this._getYAxisLabelAlignment(f);O=E.textAlign,x=E.x}else if("x"===t){if("center"===s)M=(n.top+n.bottom)/2+g;else if(A(s)){const E=Object.keys(s)[0];M=this.chart.scales[E].getPixelForValue(s[E])+g}O=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===s)x=(n.left+n.right)/2-g;else if(A(s)){const E=Object.keys(s)[0];x=this.chart.scales[E].getPixelForValue(s[E])}O=this._getYAxisLabelAlignment(f).textAlign}"y"===t&&("start"===c?G="top":"end"===c&&(G="bottom"));const st=this._getLabelSizes();for(_=0,y=a.length;_<y;++_){v=a[_],C=v.label;const E=o.setContext(this.getContext(_));P=this.getPixelForTick(_)+o.labelOffset,S=this._resolveTickFontOptions(_),D=S.lineHeight,k=j(C)?C.length:1;const V=k/2,U=E.color,at=E.textStrokeColor,Q=E.textStrokeWidth;let mn,ee=O;if(r?(x=P,"inner"===O&&(ee=_===y-1?this.options.reverse?"left":"right":0===_?this.options.reverse?"right":"left":"center"),R="top"===s?"near"===l||0!==m?-k*D+D/2:"center"===l?-st.highest.height/2-V*D+D:D/2-st.highest.height:"near"===l||0!==m?D/2:"center"===l?st.highest.height/2-V*D:st.highest.height-k*D,d&&(R*=-1),0!==m&&!E.showLabelBackdrop&&(x+=D/2*Math.sin(m))):(M=P,R=(1-k)*D/2),E.showLabelBackdrop){const ne=J(E.backdropPadding),ke=st.heights[_],Bt=st.widths[_];let De=R-ne.top,Nt=0-ne.left;switch(G){case"middle":De-=ke/2;break;case"bottom":De-=ke}switch(O){case"center":Nt-=Bt/2;break;case"right":Nt-=Bt;break;case"inner":_===y-1?Nt-=Bt:_>0&&(Nt-=Bt/2)}mn={left:Nt,top:De,width:Bt+ne.width,height:ke+ne.height,color:E.backdropColor}}b.push({label:C,font:S,textOffset:R,options:{rotation:m,color:U,strokeColor:at,strokeWidth:Q,textAlign:ee,textBaseline:G,translation:[x,M],backdrop:mn}})}return b}_getXAxisLabelAlignment(){const{position:n,ticks:t}=this.options;if(-rt(this.labelRotation))return"top"===n?"left":"right";let s="center";return"start"===t.align?s="left":"end"===t.align?s="right":"inner"===t.align&&(s="inner"),s}_getYAxisLabelAlignment(n){const{position:t,ticks:{crossAlign:i,mirror:s,padding:o}}=this.options,a=n+o,c=this._getLabelSizes().widest.width;let l,h;return"left"===t?s?(h=this.right+o,"near"===i?l="left":"center"===i?(l="center",h+=c/2):(l="right",h+=c)):(h=this.right-a,"near"===i?l="right":"center"===i?(l="center",h-=c/2):(l="left",h=this.left)):"right"===t?s?(h=this.left+o,"near"===i?l="right":"center"===i?(l="center",h-=c/2):(l="left",h-=c)):(h=this.left+a,"near"===i?l="left":"center"===i?(l="center",h+=c/2):(l="right",h=this.right)):l="right",{textAlign:l,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const n=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:n.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:n.width}:void 0}drawBackground(){const{ctx:n,options:{backgroundColor:t},left:i,top:s,width:o,height:r}=this;t&&(n.save(),n.fillStyle=t,n.fillRect(i,s,o,r),n.restore())}getLineWidthForValue(n){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const s=this.ticks.findIndex(o=>o.value===n);return s>=0?t.setContext(this.getContext(s)).lineWidth:0}drawGrid(n){const t=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(n));let o,r;const a=(c,l,h)=>{!h.width||!h.color||(i.save(),i.lineWidth=h.width,i.strokeStyle=h.color,i.setLineDash(h.borderDash||[]),i.lineDashOffset=h.borderDashOffset,i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(l.x,l.y),i.stroke(),i.restore())};if(t.display)for(o=0,r=s.length;o<r;++o){const c=s[o];t.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:n,ctx:t,options:{border:i,grid:s}}=this,o=i.setContext(this.getContext()),r=i.display?o.width:0;if(!r)return;const a=s.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let l,h,d,f;this.isHorizontal()?(l=Dt(n,this.left,r)-r/2,h=Dt(n,this.right,a)+a/2,d=f=c):(d=Dt(n,this.top,r)-r/2,f=Dt(n,this.bottom,a)+a/2,l=h=c),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(l,d),t.lineTo(h,f),t.stroke(),t.restore()}drawLabels(n){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Ne(i,s);const o=this.getLabelItems(n);for(const r of o)Tt(i,r.label,0,r.textOffset,r.font,r.options);s&&Ve(i)}drawTitle(){const{ctx:n,options:{position:t,title:i,reverse:s}}=this;if(!i.display)return;const o=Y(i.font),r=J(i.padding),a=i.align;let c=o.lineHeight/2;"bottom"===t||"center"===t||A(t)?(c+=r.bottom,j(i.text)&&(c+=o.lineHeight*(i.text.length-1))):c+=r.top;const{titleX:l,titleY:h,maxWidth:d,rotation:f}=function Ml(e,n,t,i){const{top:s,left:o,bottom:r,right:a,chart:c}=e,{chartArea:l,scales:h}=c;let f,g,p,d=0;const m=r-s,b=a-o;if(e.isHorizontal()){if(g=q(i,o,a),A(t)){const _=Object.keys(t)[0];p=h[_].getPixelForValue(t[_])+m-n}else p="center"===t?(l.bottom+l.top)/2+m-n:Bs(e,t,n);f=a-o}else{if(A(t)){const _=Object.keys(t)[0];g=h[_].getPixelForValue(t[_])-b+n}else g="center"===t?(l.left+l.right)/2-b+n:Bs(e,t,n);p=q(i,r,s),d="left"===t?-$:$}return{titleX:g,titleY:p,maxWidth:f,rotation:d}}(this,c,t,a);Tt(n,i.text,0,0,o,{color:i.color,maxWidth:d,rotation:f,textAlign:vl(a,t,s),textBaseline:"middle",translation:[l,h]})}draw(n){this._isVisible()&&(this.drawBackground(),this.drawGrid(n),this.drawBorder(),this.drawTitle(),this.drawLabels(n))}_layers(){const n=this.options,t=n.ticks&&n.ticks.z||0,i=w(n.grid&&n.grid.z,-1),s=w(n.border&&n.border.z,0);return this._isVisible()&&this.draw===Lt.prototype.draw?[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:t,draw:o=>{this.drawLabels(o)}}]:[{z:t,draw:o=>{this.draw(o)}}]}getMatchingVisibleMetas(n){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let o,r;for(o=0,r=t.length;o<r;++o){const a=t[o];a[i]===this.id&&(!n||a.type===n)&&s.push(a)}return s}_resolveTickFontOptions(n){return Y(this.options.ticks.setContext(this.getContext(n)).font)}_maxDigits(){const n=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/n}}class Je{constructor(n,t,i){this.type=n,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(n){return Object.prototype.isPrototypeOf.call(this.type.prototype,n.prototype)}register(n){const t=Object.getPrototypeOf(n);let i;(function Ol(e){return"id"in e&&"defaults"in e})(t)&&(i=this.register(t));const s=this.items,o=n.id,r=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+n);return o in s||(s[o]=n,function Cl(e,n,t){const i=se(Object.create(null),[t?B.get(t):{},B.get(n),e.defaults]);B.set(n,i),e.defaultRoutes&&function Pl(e,n){Object.keys(n).forEach(t=>{const i=t.split("."),s=i.pop(),o=[e].concat(i).join("."),r=n[t].split("."),a=r.pop(),c=r.join(".");B.route(o,s,c,a)})}(n,e.defaultRoutes),e.descriptors&&B.describe(n,e.descriptors)}(n,r,i),this.override&&B.override(n.id,n.overrides)),r}get(n){return this.items[n]}unregister(n){const t=this.items,i=n.id,s=this.scope;i in t&&delete t[i],s&&i in B[s]&&(delete B[s][i],this.override&&delete kt[i])}}class Sl{constructor(){this.controllers=new Je(Ot,"datasets",!0),this.elements=new Je(_t,"elements"),this.plugins=new Je(Object,"plugins"),this.scales=new Je(Lt,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...n){this._each("register",n)}remove(...n){this._each("unregister",n)}addControllers(...n){this._each("register",n,this.controllers)}addElements(...n){this._each("register",n,this.elements)}addPlugins(...n){this._each("register",n,this.plugins)}addScales(...n){this._each("register",n,this.scales)}getController(n){return this._get(n,this.controllers,"controller")}getElement(n){return this._get(n,this.elements,"element")}getPlugin(n){return this._get(n,this.plugins,"plugin")}getScale(n){return this._get(n,this.scales,"scale")}removeControllers(...n){this._each("unregister",n,this.controllers)}removeElements(...n){this._each("unregister",n,this.elements)}removePlugins(...n){this._each("unregister",n,this.plugins)}removeScales(...n){this._each("unregister",n,this.scales)}_each(n,t,i){[...t].forEach(s=>{const o=i||this._getRegistryForType(s);i||o.isForType(s)||o===this.plugins&&s.id?this._exec(n,o,s):I(s,r=>{const a=i||this._getRegistryForType(r);this._exec(n,a,r)})})}_exec(n,t,i){const s=Mn(n);L(i["before"+s],[],i),t[n](i),L(i["after"+s],[],i)}_getRegistryForType(n){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(n))return i}return this.plugins}_get(n,t,i){const s=t.get(n);if(void 0===s)throw new Error('"'+n+'" is not a registered '+i+".");return s}}var lt=new Sl;class wl{constructor(){this._init=[]}notify(n,t,i,s){"beforeInit"===t&&(this._init=this._createDescriptors(n,!0),this._notify(this._init,n,"install"));const o=s?this._descriptors(n).filter(s):this._descriptors(n),r=this._notify(o,n,t,i);return"afterDestroy"===t&&(this._notify(o,n,"stop"),this._notify(this._init,n,"uninstall")),r}_notify(n,t,i,s){s=s||{};for(const o of n){const r=o.plugin;if(!1===L(r[i],[t,s,o.options],r)&&s.cancelable)return!1}return!0}invalidate(){T(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(n){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(n);return this._notifyStateChanges(n),t}_createDescriptors(n,t){const i=n&&n.config,s=w(i.options&&i.options.plugins,{}),o=function kl(e){const n={},t=[],i=Object.keys(lt.plugins.items);for(let o=0;o<i.length;o++)t.push(lt.getPlugin(i[o]));const s=e.plugins||[];for(let o=0;o<s.length;o++){const r=s[o];-1===t.indexOf(r)&&(t.push(r),n[r.id]=!0)}return{plugins:t,localIds:n}}(i);return!1!==s||t?function Tl(e,{plugins:n,localIds:t},i,s){const o=[],r=e.getContext();for(const a of n){const c=a.id,l=Dl(i[c],s);null!==l&&o.push({plugin:a,options:Al(e.config,{plugin:a,local:t[c]},l,r)})}return o}(n,o,s,t):[]}_notifyStateChanges(n){const t=this._oldCache||[],i=this._cache,s=(o,r)=>o.filter(a=>!r.some(c=>a.plugin.id===c.plugin.id));this._notify(s(t,i),n,"stop"),this._notify(s(i,t),n,"start")}}function Dl(e,n){return n||!1!==e?!0===e?{}:e:null}function Al(e,{plugin:n,local:t},i,s){const o=e.pluginScopeKeys(n),r=e.getOptionScopes(i,o);return t&&n.defaults&&r.push(n.defaults),e.createResolver(r,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Xn(e,n){return((n.datasets||{})[e]||{}).indexAxis||n.indexAxis||(B.datasets[e]||{}).indexAxis||"x"}function Hs(e){if("x"===e||"y"===e||"r"===e)return e}function Il(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function Gn(e,...n){if(Hs(e))return e;for(const t of n){const i=t.axis||Il(t.position)||e.length>1&&Hs(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function $s(e,n,t){if(t[n+"AxisID"]===e)return{axis:n}}function Us(e){const n=e.options||(e.options={});n.plugins=w(n.plugins,{}),n.scales=function Ll(e,n){const t=kt[e.type]||{scales:{}},i=n.scales||{},s=Xn(e.type,n),o=Object.create(null);return Object.keys(i).forEach(r=>{const a=i[r];if(!A(a))return console.error(`Invalid scale configuration for scale: ${r}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${r}`);const c=Gn(r,a,function El(e,n){if(n.data&&n.data.datasets){const t=n.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(t.length)return $s(e,"x",t[0])||$s(e,"y",t[0])}return{}}(r,e),B.scales[a.type]),l=function Fl(e,n){return e===n?"_index_":"_value_"}(c,s),h=t.scales||{};o[r]=oe(Object.create(null),[{axis:c},a,h[c],h[l]])}),e.data.datasets.forEach(r=>{const a=r.type||e.type,c=r.indexAxis||Xn(a,n),h=(kt[a]||{}).scales||{};Object.keys(h).forEach(d=>{const f=function Rl(e,n){let t=e;return"_index_"===e?t=n:"_value_"===e&&(t="x"===n?"y":"x"),t}(d,c),g=r[f+"AxisID"]||f;o[g]=o[g]||Object.create(null),oe(o[g],[{axis:f},i[g],h[d]])})}),Object.keys(o).forEach(r=>{const a=o[r];oe(a,[B.scales[a.type],B.scale])}),o}(e,n)}function Ys(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const Xs=new Map,Gs=new Set;function Ze(e,n){let t=Xs.get(e);return t||(t=n(),Xs.set(e,t),Gs.add(t)),t}const ve=(e,n,t)=>{const i=vt(n,t);void 0!==i&&e.add(i)};class zl{constructor(n){this._config=function jl(e){return(e=e||{}).data=Ys(e.data),Us(e),e}(n),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(n){this._config.type=n}get data(){return this._config.data}set data(n){this._config.data=Ys(n)}get options(){return this._config.options}set options(n){this._config.options=n}get plugins(){return this._config.plugins}update(){const n=this._config;this.clearCache(),Us(n)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(n){return Ze(n,()=>[[`datasets.${n}`,""]])}datasetAnimationScopeKeys(n,t){return Ze(`${n}.transition.${t}`,()=>[[`datasets.${n}.transitions.${t}`,`transitions.${t}`],[`datasets.${n}`,""]])}datasetElementScopeKeys(n,t){return Ze(`${n}-${t}`,()=>[[`datasets.${n}.elements.${t}`,`datasets.${n}`,`elements.${t}`,""]])}pluginScopeKeys(n){const t=n.id;return Ze(`${this.type}-plugin-${t}`,()=>[[`plugins.${t}`,...n.additionalOptionScopes||[]]])}_cachedScopes(n,t){const i=this._scopeCache;let s=i.get(n);return(!s||t)&&(s=new Map,i.set(n,s)),s}getOptionScopes(n,t,i){const{options:s,type:o}=this,r=this._cachedScopes(n,i),a=r.get(t);if(a)return a;const c=new Set;t.forEach(h=>{n&&(c.add(n),h.forEach(d=>ve(c,n,d))),h.forEach(d=>ve(c,s,d)),h.forEach(d=>ve(c,kt[o]||{},d)),h.forEach(d=>ve(c,B,d)),h.forEach(d=>ve(c,Dn,d))});const l=Array.from(c);return 0===l.length&&l.push(Object.create(null)),Gs.has(t)&&r.set(t,l),l}chartOptionScopes(){const{options:n,type:t}=this;return[n,kt[t]||{},B.datasets[t]||{},{type:t},B,Dn]}resolveNamedOptions(n,t,i,s=[""]){const o={$shared:!0},{resolver:r,subPrefixes:a}=Ks(this._resolverCache,n,s);let c=r;(function Nl(e,n){const{isScriptable:t,isIndexable:i}=qi(e);for(const s of n){const o=t(s),r=i(s),a=(r||o)&&e[s];if(o&&(Mt(a)||Bl(a))||r&&j(a))return!0}return!1})(r,t)&&(o.$shared=!1,c=Ut(r,i=Mt(i)?i():i,this.createResolver(n,i,a)));for(const l of t)o[l]=c[l];return o}createResolver(n,t,i=[""],s){const{resolver:o}=Ks(this._resolverCache,n,i);return A(t)?Ut(o,t,void 0,s):o}}function Ks(e,n,t){let i=e.get(n);i||(i=new Map,e.set(n,i));const s=t.join();let o=i.get(s);return o||(o={resolver:Fn(n,t),subPrefixes:t.filter(a=>!a.toLowerCase().includes("hover"))},i.set(s,o)),o}const Bl=e=>A(e)&&Object.getOwnPropertyNames(e).some(n=>Mt(e[n])),Wl=["top","bottom","left","right","chartArea"];function qs(e,n){return"top"===e||"bottom"===e||-1===Wl.indexOf(e)&&"x"===n}function Js(e,n){return function(t,i){return t[e]===i[e]?t[n]-i[n]:t[e]-i[e]}}function Zs(e){const n=e.chart,t=n.options.animation;n.notifyPlugins("afterRender"),L(t&&t.onComplete,[e],n)}function Hl(e){const n=e.chart,t=n.options.animation;L(t&&t.onProgress,[e],n)}function Qs(e){return Ln()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Qe={},to=e=>{const n=Qs(e);return Object.values(Qe).filter(t=>t.canvas===n).pop()};function $l(e,n,t){const i=Object.keys(e);for(const s of i){const o=+s;if(o>=n){const r=e[s];delete e[s],(t>0||o>n)&&(e[o+t]=r)}}}let Kn=(()=>class e{static defaults=B;static instances=Qe;static overrides=kt;static registry=lt;static version="4.5.0";static getChart=to;static register(...t){lt.add(...t),eo()}static unregister(...t){lt.remove(...t),eo()}constructor(t,i){const s=this.config=new zl(i),o=Qs(t),r=to(o);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const a=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||function ll(e){return!Ln()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?qc:cl}(o)),this.platform.updateConfig(s);const c=this.platform.acquireContext(o,a.aspectRatio),l=c&&c.canvas,h=l&&l.height,d=l&&l.width;this.id=Hr(),this.ctx=c,this.canvas=l,this.width=d,this.height=h,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new wl,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function ra(e,n){let t;return function(...i){return n?(clearTimeout(t),t=setTimeout(e,n,i)):e.apply(this,i),n}}(f=>this.update(f),a.resizeDelay||0),this._dataChanges=[],Qe[this.id]=this,c&&l?(bt.listen(this,"complete",Zs),bt.listen(this,"progress",Hl),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:i},width:s,height:o,_aspectRatio:r}=this;return T(t)?i&&r?r:o?s/o:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return lt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ss(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Xi(this.canvas,this.ctx),this}stop(){return bt.stop(this),this}resize(t,i){bt.running(this)?this._resizeBeforeDraw={width:t,height:i}:this._resize(t,i)}_resize(t,i){const s=this.options,a=this.platform.getMaximumSize(this.canvas,t,i,s.maintainAspectRatio&&this.aspectRatio),c=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,ss(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),L(s.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){I(this.options.scales||{},(s,o)=>{s.id=o})}buildOrUpdateScales(){const t=this.options,i=t.scales,s=this.scales,o=Object.keys(s).reduce((a,c)=>(a[c]=!1,a),{});let r=[];i&&(r=r.concat(Object.keys(i).map(a=>{const c=i[a],l=Gn(a,c),h="r"===l,d="x"===l;return{options:c,dposition:h?"chartArea":d?"bottom":"left",dtype:h?"radialLinear":d?"category":"linear"}}))),I(r,a=>{const c=a.options,l=c.id,h=Gn(l,c),d=w(c.type,a.dtype);(void 0===c.position||qs(c.position,h)!==qs(a.dposition))&&(c.position=a.dposition),o[l]=!0;let f=null;l in s&&s[l].type===d?f=s[l]:(f=new(lt.getScale(d))({id:l,type:d,ctx:this.ctx,chart:this}),s[f.id]=f),f.init(c,t)}),I(o,(a,c)=>{a||delete s[c]}),I(s,a=>{Z.configure(this,a,a.options),Z.addBox(this,a)})}_updateMetasets(){const t=this._metasets,i=this.data.datasets.length,s=t.length;if(t.sort((o,r)=>o.index-r.index),s>i){for(let o=i;o<s;++o)this._destroyDatasetMeta(o);t.splice(i,s-i)}this._sortedMetasets=t.slice(0).sort(Js("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:i}}=this;t.length>i.length&&delete this._stacks,t.forEach((s,o)=>{0===i.filter(r=>r===s._dataset).length&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const t=[],i=this.data.datasets;let s,o;for(this._removeUnreferencedMetasets(),s=0,o=i.length;s<o;s++){const r=i[s];let a=this.getDatasetMeta(s);const c=r.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(s),a=this.getDatasetMeta(s)),a.type=c,a.indexAxis=r.indexAxis||Xn(c,this.options),a.order=r.order||0,a.index=s,a.label=""+r.label,a.visible=this.isDatasetVisible(s),a.controller)a.controller.updateIndex(s),a.controller.linkScales();else{const l=lt.getController(c),{datasetElementType:h,dataElementType:d}=B.datasets[c];Object.assign(l,{dataElementType:lt.getElement(d),datasetElementType:h&&lt.getElement(h)}),a.controller=new l(this,s),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){I(this.data.datasets,(t,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const i=this.config;i.update();const s=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let h=0,d=this.data.datasets.length;h<d;h++){const{controller:f}=this.getDatasetMeta(h),g=!o&&-1===r.indexOf(f);f.buildOrUpdateElements(g),a=Math.max(+f.getMaxOverflow(),a)}a=this._minPadding=s.layout.autoPadding?a:0,this._updateLayout(a),o||I(r,h=>{h.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Js("z","_idx"));const{_active:c,_lastEvent:l}=this;l?this._eventHandler(l,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){I(this.scales,t=>{Z.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,i=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!Di(i,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,i=this._getUniformDataChanges()||[];for(const{method:s,start:o,count:r}of i)$l(t,o,"_removeElements"===s?-r:r)}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const i=this.data.datasets.length,s=r=>new Set(t.filter(a=>a[0]===r).map((a,c)=>c+","+a.splice(1).join(","))),o=s(0);for(let r=1;r<i;r++)if(!Di(o,s(r)))return;return Array.from(o).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Z.update(this,this.width,this.height,t);const i=this.chartArea,s=i.width<=0||i.height<=0;this._layers=[],I(this.boxes,o=>{s&&"chartArea"===o.position||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,r)=>{o._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let i=0,s=this.data.datasets.length;i<s;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,s=this.data.datasets.length;i<s;++i)this._updateDataset(i,Mt(t)?t({datasetIndex:i}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,i){const s=this.getDatasetMeta(t),o={meta:s,index:t,mode:i,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",o)&&(s.controller._update(i),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(bt.has(this)?this.attached&&!bt.running(this)&&bt.start(this):(this.draw(),Zs({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,o)}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const i=this._layers;for(t=0;t<i.length&&i[t].z<=0;++t)i[t].draw(this.chartArea);for(this._drawDatasets();t<i.length;++t)i[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const i=this._sortedMetasets,s=[];let o,r;for(o=0,r=i.length;o<r;++o){const a=i[o];(!t||a.visible)&&s.push(a)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let i=t.length-1;i>=0;--i)this._drawDataset(t[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const i=this.ctx,s={meta:t,index:t.index,cancelable:!0},o=function gs(e,n){const t=n._clip;if(t.disabled)return!1;const i=function ac(e,n){const{xScale:t,yScale:i}=e;return t&&i?{left:Ye(t,n,"left"),right:Ye(t,n,"right"),top:Ye(i,n,"top"),bottom:Ye(i,n,"bottom")}:n}(n,e.chartArea);return{left:!1===t.left?0:i.left-(!0===t.left?0:t.left),right:!1===t.right?e.width:i.right+(!0===t.right?0:t.right),top:!1===t.top?0:i.top-(!0===t.top?0:t.top),bottom:!1===t.bottom?e.height:i.bottom+(!0===t.bottom?0:t.bottom)}}(this,t);!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(o&&Ne(i,o),t.controller.draw(),o&&Ve(i),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return mt(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,i,s,o){const r=Wc.modes[i];return"function"==typeof r?r(this,t,s,o):[]}getDatasetMeta(t){const i=this.data.datasets[t],s=this._metasets;let o=s.filter(r=>r&&r._dataset===i).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:t,_dataset:i,_parsed:[],_sorted:!1},s.push(o)),o}getContext(){return this.$context||(this.$context=Pt(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const i=this.data.datasets[t];if(!i)return!1;const s=this.getDatasetMeta(t);return"boolean"==typeof s.hidden?!s.hidden:!i.hidden}setDatasetVisibility(t,i){this.getDatasetMeta(t).hidden=!i}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,i,s){const o=s?"show":"hide",r=this.getDatasetMeta(t),a=r.controller._resolveAnimations(void 0,o);re(i)?(r.data[i].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),a.update(r,{visible:s}),this.update(c=>c.datasetIndex===t?o:void 0))}hide(t,i){this._updateVisibility(t,i,!1)}show(t,i){this._updateVisibility(t,i,!0)}_destroyDatasetMeta(t){const i=this._metasets[t];i&&i.controller&&i.controller._destroy(),delete this._metasets[t]}_stop(){let t,i;for(this.stop(),bt.remove(this),t=0,i=this.data.datasets.length;t<i;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:i}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Xi(t,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete Qe[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,i=this.platform,s=(r,a)=>{i.addEventListener(this,r,a),t[r]=a},o=(r,a,c)=>{r.offsetX=a,r.offsetY=c,this._eventHandler(r)};I(this.options.events,r=>s(r,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,i=this.platform,s=(l,h)=>{i.addEventListener(this,l,h),t[l]=h},o=(l,h)=>{t[l]&&(i.removeEventListener(this,l,h),delete t[l])},r=(l,h)=>{this.canvas&&this.resize(l,h)};let a;const c=()=>{o("attach",c),this.attached=!0,this.resize(),s("resize",r),s("detach",a)};a=()=>{this.attached=!1,o("resize",r),this._stop(),this._resize(0,0),s("attach",c)},i.isAttached(this.canvas)?c():a()}unbindEvents(){I(this._listeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._listeners={},I(this._responsiveListeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,i,s){const o=s?"set":"remove";let r,a,c,l;for("dataset"===i&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+o+"DatasetHoverStyle"]()),c=0,l=t.length;c<l;++c){a=t[c];const h=a&&this.getDatasetMeta(a.datasetIndex).controller;h&&h[o+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const i=this._active||[],s=t.map(({datasetIndex:r,index:a})=>{const c=this.getDatasetMeta(r);if(!c)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:c.data[a],index:a}});!Ie(s,i)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,i))}notifyPlugins(t,i,s){return this._plugins.notify(this,t,i,s)}isPluginEnabled(t){return 1===this._plugins._cache.filter(i=>i.plugin.id===t).length}_updateHoverStyles(t,i,s){const o=this.options.hover,r=(l,h)=>l.filter(d=>!h.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),a=r(i,t),c=s?t:r(t,i);a.length&&this.updateHoverStyle(a,o.mode,!1),c.length&&o.mode&&this.updateHoverStyle(c,o.mode,!0)}_eventHandler(t,i){const s={event:t,replay:i,cancelable:!0,inChartArea:this.isPointInArea(t)},o=a=>(a.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",s,o))return;const r=this._handleEvent(t,i,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,o),(r||s.changed)&&this.render(),this}_handleEvent(t,i,s){const{_active:o=[],options:r}=this,c=this._getActiveElements(t,o,s,i),l=function Kr(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(t),h=function Ul(e,n,t,i){return t&&"mouseout"!==e.type?i?n:e:null}(t,this._lastEvent,s,l);s&&(this._lastEvent=null,L(r.onHover,[t,c,this],this),l&&L(r.onClick,[t,c,this],this));const d=!Ie(c,o);return(d||i)&&(this._active=c,this._updateHoverStyles(c,o,i)),this._lastEvent=h,d}_getActiveElements(t,i,s,o){if("mouseout"===t.type)return[];if(!s)return i;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,o)}})();function eo(){return I(Kn.instances,e=>e._plugins.invalidate())}const ln=function Vd(e,n){return e===n||e!=e&&n!=n},hn=function Wd(e,n){for(var t=e.length;t--;)if(ln(e[t][0],n))return t;return-1};var $d=Array.prototype.splice;function Kt(e){var n=-1,t=null==e?0:e.length;for(this.clear();++n<t;){var i=e[n];this.set(i[0],i[1])}}Kt.prototype.clear=function Bd(){this.__data__=[],this.size=0},Kt.prototype.delete=function Ud(e){var n=this.__data__,t=hn(n,e);return!(t<0||(t==n.length-1?n.pop():$d.call(n,t,1),--this.size,0))},Kt.prototype.get=function Xd(e){var n=this.__data__,t=hn(n,e);return t<0?void 0:n[t][1]},Kt.prototype.has=function Kd(e){return hn(this.__data__,e)>-1},Kt.prototype.set=function Jd(e,n){var t=this.__data__,i=hn(t,e);return i<0?(++this.size,t.push([e,n])):t[i][1]=n,this};const dn=Kt,Vo="object"==typeof global&&global&&global.Object===Object&&global;var cu="object"==typeof self&&self&&self.Object===Object&&self;const qt=Vo||cu||Function("return this")();var hu=qt.Symbol,Wo=Object.prototype,du=Wo.hasOwnProperty,uu=Wo.toString,Pe=hu?hu.toStringTag:void 0;var mu=Object.prototype.toString;var Ho=hu?hu.toStringTag:void 0;const fn=function vu(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Ho&&Ho in Object(e)?function fu(e){var n=du.call(e,Pe),t=e[Pe];try{e[Pe]=void 0;var i=!0}catch{}var s=uu.call(e);return i&&(n?e[Pe]=t:delete e[Pe]),s}(e):function bu(e){return mu.call(e)}(e)},zt=function Mu(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)},ri=function wu(e){if(!zt(e))return!1;var n=fn(e);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n};var e,ku=qt["__core-js_shared__"],$o=(e=/[^.]+$/.exec(ku&&ku.keys&&ku.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";var Ru=Function.prototype.toString;var Lu=/^\[object .+?Constructor\]$/,Vu=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Hu=function Wu(e){return!(!zt(e)||function Du(e){return!!$o&&$o in e}(e))&&(ri(e)?Vu:Lu).test(function Fu(e){if(null!=e){try{return Ru.call(e)}catch{}try{return e+""}catch{}}return""}(e))},ci=function Yu(e,n){var t=function $u(e,n){return e?.[n]}(e,n);return Hu(t)?t:void 0},Uo=ci(qt,"Map"),Oe=ci(Object,"create");var ef=Object.prototype.hasOwnProperty;var rf=Object.prototype.hasOwnProperty;function Jt(e){var n=-1,t=null==e?0:e.length;for(this.clear();++n<t;){var i=e[n];this.set(i[0],i[1])}}Jt.prototype.clear=function Ku(){this.__data__=Oe?Oe(null):{},this.size=0},Jt.prototype.delete=function Ju(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n},Jt.prototype.get=function nf(e){var n=this.__data__;if(Oe){var t=n[e];return"__lodash_hash_undefined__"===t?void 0:t}return ef.call(n,e)?n[e]:void 0},Jt.prototype.has=function af(e){var n=this.__data__;return Oe?void 0!==n[e]:rf.call(n,e)},Jt.prototype.set=function hf(e,n){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Oe&&void 0===n?"__lodash_hash_undefined__":n,this};const Yo=Jt,gn=function mf(e,n){var t=e.__data__;return function gf(e){var n=typeof e;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==e:null===e}(n)?t["string"==typeof n?"string":"hash"]:t.map};function Zt(e){var n=-1,t=null==e?0:e.length;for(this.clear();++n<t;){var i=e[n];this.set(i[0],i[1])}}Zt.prototype.clear=function uf(){this.size=0,this.__data__={hash:new Yo,map:new(Uo||dn),string:new Yo}},Zt.prototype.delete=function bf(e){var n=gn(this,e).delete(e);return this.size-=n?1:0,n},Zt.prototype.get=function yf(e){return gn(this,e).get(e)},Zt.prototype.has=function vf(e){return gn(this,e).has(e)},Zt.prototype.set=function Cf(e,n){var t=gn(this,e),i=t.size;return t.set(e,n),this.size+=t.size==i?0:1,this};const Of=Zt;function Qt(e){var n=this.__data__=new dn(e);this.size=n.size}Qt.prototype.clear=function Qd(){this.__data__=new dn,this.size=0},Qt.prototype.delete=function eu(e){var n=this.__data__,t=n.delete(e);return this.size=n.size,t},Qt.prototype.get=function iu(e){return this.__data__.get(e)},Qt.prototype.has=function ou(e){return this.__data__.has(e)},Qt.prototype.set=function wf(e,n){var t=this.__data__;if(t instanceof dn){var i=t.__data__;if(!Uo||i.length<199)return i.push([e,n]),this.size=++t.size,this;t=this.__data__=new Of(i)}return t.set(e,n),this.size=t.size,this};const Df=Qt;var Tf=function(){try{var e=ci(Object,"defineProperty");return e({},"",{}),e}catch{}}();const pn=Tf,li=function Af(e,n,t){"__proto__"==n&&pn?pn(e,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[n]=t},hi=function Rf(e,n,t){(void 0!==t&&!ln(e[n],t)||void 0===t&&!(n in e))&&li(e,n,t)};var If=function Ff(e){return function(n,t,i){for(var s=-1,o=Object(n),r=i(n),a=r.length;a--;){var c=r[e?a:++s];if(!1===t(o[c],c,o))break}return n}}();const Ef=If;var Xo="object"==typeof exports&&exports&&!exports.nodeType&&exports,Go=Xo&&"object"==typeof module&&module&&!module.nodeType&&module,Ko=Go&&Go.exports===Xo?qt.Buffer:void 0,qo=Ko?Ko.allocUnsafe:void 0;const Jo=qt.Uint8Array,Hf=function Wf(e,n){var t=n?function Nf(e){var n=new e.constructor(e.byteLength);return new Jo(n).set(new Jo(e)),n}(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)};var Zo=Object.create,Yf=function(){function e(){}return function(n){if(!zt(n))return{};if(Zo)return Zo(n);e.prototype=n;var t=new e;return e.prototype=void 0,t}}();const Xf=Yf;var Kf=function Gf(e,n){return function(t){return e(n(t))}}(Object.getPrototypeOf,Object);const Qo=Kf;var qf=Object.prototype;const tr=function Jf(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||qf)},Se=function tg(e){return null!=e&&"object"==typeof e},er=function ng(e){return Se(e)&&"[object Arguments]"==fn(e)};var nr=Object.prototype,ig=nr.hasOwnProperty,sg=nr.propertyIsEnumerable,og=er(function(){return arguments}())?er:function(e){return Se(e)&&ig.call(e,"callee")&&!sg.call(e,"callee")};const di=og,ui=Array.isArray,ir=function cg(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},fi=function lg(e){return null!=e&&ir(e.length)&&!ri(e)};var sr="object"==typeof exports&&exports&&!exports.nodeType&&exports,or=sr&&"object"==typeof module&&module&&!module.nodeType&&module,rr=or&&or.exports===sr?qt.Buffer:void 0;const ar=(rr?rr.isBuffer:void 0)||function ug(){return!1};var cr=Function.prototype.toString,xg=Object.prototype.hasOwnProperty,vg=cr.call(Object);var N={};N["[object Float32Array]"]=N["[object Float64Array]"]=N["[object Int8Array]"]=N["[object Int16Array]"]=N["[object Int32Array]"]=N["[object Uint8Array]"]=N["[object Uint8ClampedArray]"]=N["[object Uint16Array]"]=N["[object Uint32Array]"]=!0,N["[object Arguments]"]=N["[object Array]"]=N["[object ArrayBuffer]"]=N["[object Boolean]"]=N["[object DataView]"]=N["[object Date]"]=N["[object Error]"]=N["[object Function]"]=N["[object Map]"]=N["[object Number]"]=N["[object Object]"]=N["[object RegExp]"]=N["[object Set]"]=N["[object String]"]=N["[object WeakMap]"]=!1;var lr="object"==typeof exports&&exports&&!exports.nodeType&&exports,we=lr&&"object"==typeof module&&module&&!module.nodeType&&module,gi=we&&we.exports===lr&&Vo.process,Qg=function(){try{return we&&we.require&&we.require("util").types||gi&&gi.binding&&gi.binding("util")}catch{}}(),dr=Qg&&Qg.isTypedArray;const ur=dr?function qg(e){return function(n){return e(n)}}(dr):function Gg(e){return Se(e)&&ir(e.length)&&!!N[fn(e)]},pi=function ep(e,n){if(("constructor"!==n||"function"!=typeof e[n])&&"__proto__"!=n)return e[n]};var ip=Object.prototype.hasOwnProperty;const op=function sp(e,n,t){var i=e[n];(!ip.call(e,n)||!ln(i,t)||void 0===t&&!(n in e))&&li(e,n,t)};var dp=/^(?:0|[1-9]\d*)$/;const fr=function up(e,n){var t=typeof e;return!!(n=n??9007199254740991)&&("number"==t||"symbol"!=t&&dp.test(e))&&e>-1&&e%1==0&&e<n};var gp=Object.prototype.hasOwnProperty;const mp=function pp(e,n){var t=ui(e),i=!t&&di(e),s=!t&&!i&&ar(e),o=!t&&!i&&!s&&ur(e),r=t||i||s||o,a=r?function cp(e,n){for(var t=-1,i=Array(e);++t<e;)i[t]=n(t);return i}(e.length,String):[],c=a.length;for(var l in e)(n||gp.call(e,l))&&(!r||!("length"==l||s&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||fr(l,c)))&&a.push(l);return a};var xp=Object.prototype.hasOwnProperty;const Mp=function vp(e){if(!zt(e))return function bp(e){var n=[];if(null!=e)for(var t in Object(e))n.push(t);return n}(e);var n=tr(e),t=[];for(var i in e)"constructor"==i&&(n||!xp.call(e,i))||t.push(i);return t},gr=function Cp(e){return fi(e)?mp(e,!0):Mp(e)},Op=function Pp(e){return function rp(e,n,t,i){var s=!t;t||(t={});for(var o=-1,r=n.length;++o<r;){var a=n[o],c=i?i(t[a],e[a],a,t,e):void 0;void 0===c&&(c=e[a]),s?li(t,a,c):op(t,a,c)}return t}(e,gr(e))},wp=function Sp(e,n,t,i,s,o,r){var a=pi(e,t),c=pi(n,t),l=r.get(c);if(l)hi(e,t,l);else{var h=o?o(a,c,t+"",e,n,r):void 0,d=void 0===h;if(d){var f=ui(c),g=!f&&ar(c),p=!f&&!g&&ur(c);h=c,f||g||p?ui(a)?h=a:function hg(e){return Se(e)&&fi(e)}(a)?h=function $f(e,n){var t=-1,i=e.length;for(n||(n=Array(i));++t<i;)n[t]=e[t];return n}(a):g?(d=!1,h=function jf(e,n){if(n)return e.slice();var t=e.length,i=qo?qo(t):new e.constructor(t);return e.copy(i),i}(c,!0)):p?(d=!1,h=Hf(c,!0)):h=[]:function Mg(e){if(!Se(e)||"[object Object]"!=fn(e))return!1;var n=Qo(e);if(null===n)return!0;var t=xg.call(n,"constructor")&&n.constructor;return"function"==typeof t&&t instanceof t&&cr.call(t)==vg}(c)||di(c)?(h=a,di(a)?h=Op(a):(!zt(a)||ri(a))&&(h=function Zf(e){return"function"!=typeof e.constructor||tr(e)?{}:Xf(Qo(e))}(c))):d=!1}d&&(r.set(c,h),s(h,c,i,o,r),r.delete(c)),hi(e,t,h)}},kp=function pr(e,n,t,i,s){e!==n&&Ef(n,function(o,r){if(s||(s=new Df),zt(o))wp(e,n,r,t,pr,i,s);else{var a=i?i(pi(e,r),o,r+"",e,n,s):void 0;void 0===a&&(a=o),hi(e,r,a)}},gr)},mr=function Dp(e){return e};var br=Math.max;const Ep=function Ip(e){return function(){return e}};var Lp=pn?function(e,n){return pn(e,"toString",{configurable:!0,enumerable:!1,value:Ep(n),writable:!0})}:mr,Np=Date.now,Wp=function Vp(e){var n=0,t=0;return function(){var i=Np(),s=16-(i-t);if(t=i,s>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}(Lp);const Hp=Wp,Up=function $p(e,n){return Hp(function Rp(e,n,t){return n=br(void 0===n?e.length-1:n,0),function(){for(var i=arguments,s=-1,o=br(i.length-n,0),r=Array(o);++s<o;)r[s]=i[n+s];s=-1;for(var a=Array(n+1);++s<n;)a[s]=i[s];return a[n]=t(r),function Tp(e,n,t){switch(t.length){case 0:return e.call(n);case 1:return e.call(n,t[0]);case 2:return e.call(n,t[0],t[1]);case 3:return e.call(n,t[0],t[1],t[2])}return e.apply(n,t)}(e,this,a)}}(e,n,mr),e+"")};var Kp=function Gp(e){return Up(function(n,t){var i=-1,s=t.length,o=s>1?t[s-1]:void 0,r=s>2?t[2]:void 0;for(o=e.length>3&&"function"==typeof o?(s--,o):void 0,r&&function Yp(e,n,t){if(!zt(t))return!1;var i=typeof n;return!!("number"==i?fi(t)&&fr(n,t.length):"string"==i&&n in t)&&ln(t[n],e)}(t[0],t[1],r)&&(o=s<3?void 0:o,s=1),n=Object(n);++i<s;){var a=t[i];a&&e(n,a,i,o)}return n})}(function(e,n,t){kp(e,n,t)});const qp=Kp;var te=nt(4412),Jp=nt(3294);const _r=new H.nKC("Configuration for ngCharts");let Zp=(()=>{var e;class n{constructor(){this.colorschemesOptions=new te.t(void 0)}setColorschemesOptions(i){this.pColorschemesOptions=i,this.colorschemesOptions.next(i)}getColorschemesOptions(){return this.pColorschemesOptions}static#t=e=()=>(this.\u0275fac=function(s){return new(s||n)},this.\u0275prov=H.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}))}return e(),n})(),Qp=(()=>{var e;class n{constructor(i,s,o,r){this.zone=s,this.themeService=o,this.type="bar",this.plugins=[],this.chartClick=new u.bkB,this.chartHover=new u.bkB,this.subs=[],this.themeOverrides={},r?.registerables&&Kn.register(...r.registerables),r?.defaults&&B.set(r.defaults),this.ctx=i.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe((0,Jp.F)()).subscribe(a=>this.themeChanged(a)))}ngOnChanges(i){const s=["type"],o=Object.getOwnPropertyNames(i);if(o.some(r=>s.includes(r))||o.every(r=>i[r].isFirstChange()))this.render();else{const r=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,r.data),this.chart.config.plugins&&Object.assign(this.chart.config.plugins,r.plugins),this.chart.config.options&&Object.assign(this.chart.config.options,r.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(i=>i.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new Kn(this.ctx,this.getChartConfiguration()))}update(i){this.chart&&this.zone.runOutsideAngular(()=>this.chart?.update(i))}hideDataset(i,s){this.chart&&(this.chart.getDatasetMeta(i).hidden=s,this.update())}isDatasetHidden(i){return this.chart?.getDatasetMeta(i)?.hidden}toBase64Image(){return this.chart?.toBase64Image()}themeChanged(i){this.themeOverrides=i,this.chart&&(this.chart.config.options&&Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return qp({onHover:(i,s)=>{!this.chartHover.observed&&!this.chartHover.observers?.length||this.zone.run(()=>this.chartHover.emit({event:i,active:s}))},onClick:(i,s)=>{!this.chartClick.observed&&!this.chartClick.observers?.length||this.zone.run(()=>this.chartClick.emit({event:i,active:s}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),options:this.getChartOptions(),plugins:this.plugins}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}static#t=e=()=>(this.\u0275fac=function(s){return new(s||n)(u.rXU(u.aKT),u.rXU(u.SKi),u.rXU(Zp),u.rXU(_r,8))},this.\u0275dir=u.FsC({type:n,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],features:[u.OA$]}))}return e(),n})();var tm=nt(487),mi=nt(467),em=nt(6354);let nm=(()=>{var e;class n{constructor(){this.securityConfig={enableTwoFactor:!0,requireStrongPassword:!0,sessionTimeout:30,maxLoginAttempts:5,enableAuditLog:!0,enableRateLimiting:!0,allowedOrigins:["localhost","127.0.0.1"]},this.securityEventsSubject=new te.t([]),this.rolesSubject=new te.t([]),this.currentUserPermissionsSubject=new te.t([]),this.loginAttemptsSubject=new te.t(new Map),this.securityEvents$=this.securityEventsSubject.asObservable(),this.roles$=this.rolesSubject.asObservable(),this.currentUserPermissions$=this.currentUserPermissionsSubject.asObservable(),this.initializeSecurity()}initializeSecurity(){this.loadDefaultRoles(),this.startSessionMonitoring(),this.startSecurityMonitoring()}loadDefaultRoles(){this.rolesSubject.next([{name:"admin",permissions:[{resource:"*",action:"*"},{resource:"users",action:"manage"},{resource:"posts",action:"moderate"},{resource:"analytics",action:"view"}],description:"Full system access"},{name:"moderator",permissions:[{resource:"posts",action:"moderate"},{resource:"users",action:"view"},{resource:"reports",action:"handle"}],description:"Content moderation access"},{name:"user",permissions:[{resource:"posts",action:"create"},{resource:"posts",action:"read"},{resource:"profile",action:"manage"},{resource:"chat",action:"use"}],description:"Standard user access"},{name:"guest",permissions:[{resource:"posts",action:"read"},{resource:"search",action:"use"}],description:"Limited read-only access"}])}startSessionMonitoring(){setInterval(()=>{this.checkSessionTimeout()},6e4)}startSecurityMonitoring(){this.monitorSuspiciousActivity(),this.monitorRateLimiting()}checkSessionTimeout(){const i=localStorage.getItem("lastActivity");if(i){const s=new Date(i).getTime();Date.now()-s>60*this.securityConfig.sessionTimeout*1e3&&this.handleSessionTimeout()}}handleSessionTimeout(){this.logSecurityEvent({type:"logout",ipAddress:this.getClientIP(),userAgent:navigator.userAgent,timestamp:new Date,details:"Session timeout",severity:"medium"}),this.clearUserSession(),window.location.href="/login?timeout=true"}monitorSuspiciousActivity(){this.loginAttempts$.subscribe(i=>{i.forEach((s,o)=>{s>=this.securityConfig.maxLoginAttempts&&this.handleSuspiciousActivity(o,"Multiple failed login attempts")})})}monitorRateLimiting(){}handleSuspiciousActivity(i,s){this.logSecurityEvent({type:"suspicious_activity",userId:i,ipAddress:this.getClientIP(),userAgent:navigator.userAgent,timestamp:new Date,details:s,severity:"high"}),this.blockUserAccount(i)}blockUserAccount(i){console.warn(`User account ${i} has been blocked due to suspicious activity`)}logSecurityEvent(i){this.securityConfig.enableAuditLog&&(this.securityEventsSubject.next([...this.securityEventsSubject.value,i]),this.sendToSecurityBackend(i),("critical"===i.severity||"high"===i.severity)&&console.warn("Security Event:",i))}sendToSecurityBackend(i){return(0,mi.A)(function*(){try{yield fetch("/api/security/events",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})}catch(s){console.warn("Failed to send security event:",s)}})()}hasPermission(i,s,o){return this.currentUserPermissionsSubject.value.some(a=>"*"===a.resource&&"*"===a.action||"*"===a.resource&&a.action===s||a.resource===i&&"*"===a.action||a.resource===i&&a.action===s)}hasRole(i){return this.rolesSubject.value.some(o=>o.name===i)}assignRoleToUser(i,s){const r=this.rolesSubject.value.find(a=>a.name===s);r&&(console.log(`Role ${s} assigned to user ${i}`),i===this.getCurrentUserId()&&this.currentUserPermissionsSubject.next(r.permissions))}validatePasswordStrength(i){if(!this.securityConfig.requireStrongPassword)return{isValid:!0,score:100,feedback:[]};const s=[];let o=0;return i.length>=8?o+=20:s.push("Password must be at least 8 characters long"),/[A-Z]/.test(i)?o+=20:s.push("Password must contain at least one uppercase letter"),/[a-z]/.test(i)?o+=20:s.push("Password must contain at least one lowercase letter"),/\d/.test(i)?o+=20:s.push("Password must contain at least one number"),/[!@#$%^&*(),.?":{}|<>]/.test(i)?o+=20:s.push("Password must contain at least one special character"),{isValid:o>=80,score:o,feedback:s}}trackLoginAttempt(i,s){const o=this.loginAttemptsSubject.value;if(s)o.delete(i),this.logSecurityEvent({type:"login",userId:i,ipAddress:this.getClientIP(),userAgent:navigator.userAgent,timestamp:new Date,details:"Successful login",severity:"low"});else{const r=o.get(i)||0;o.set(i,r+1),this.logSecurityEvent({type:"failed_login",userId:i,ipAddress:this.getClientIP(),userAgent:navigator.userAgent,timestamp:new Date,details:`Failed login attempt ${r+1}`,severity:r+1>=this.securityConfig.maxLoginAttempts?"high":"medium"})}this.loginAttemptsSubject.next(new Map(o))}getClientIP(){return"127.0.0.1"}getCurrentUserId(){return localStorage.getItem("userId")||void 0}clearUserSession(){localStorage.removeItem("userId"),localStorage.removeItem("lastActivity"),localStorage.removeItem("accessToken"),this.currentUserPermissionsSubject.next([])}updateLastActivity(){localStorage.setItem("lastActivity",(new Date).toISOString())}getSecurityConfig(){return{...this.securityConfig}}updateSecurityConfig(i){this.securityConfig={...this.securityConfig,...i}}getSecurityEvents(){return this.securityEvents$}getSecurityEventsBySeverity(i){return this.securityEvents$.pipe((0,em.T)(s=>s.filter(o=>o.severity===i)))}get loginAttempts$(){return this.loginAttemptsSubject.asObservable()}isUserBlocked(i){return(this.loginAttemptsSubject.value.get(i)||0)>=this.securityConfig.maxLoginAttempts}unblockUser(i){const s=this.loginAttemptsSubject.value;s.delete(i),this.loginAttemptsSubject.next(new Map(s)),console.log(`User ${i} has been unblocked`)}validateOrigin(i){return this.securityConfig.allowedOrigins.some(s=>i.includes(s))}sanitizeInput(i){return i.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")}generateSecureToken(){const i=new Uint8Array(32);return crypto.getRandomValues(i),Array.from(i,s=>s.toString(16).padStart(2,"0")).join("")}hashPassword(i){return(0,mi.A)(function*(){const o=(new TextEncoder).encode(i),r=yield crypto.subtle.digest("SHA-256",o);return Array.from(new Uint8Array(r)).map(a=>a.toString(16).padStart(2,"0")).join("")})()}static#t=e=()=>(this.\u0275fac=function(s){return new(s||n)},this.\u0275prov=H.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}))}return e(),n})();var yr=nt(605);let im=(()=>{var e;class n{constructor(i){this.ngZone=i,this.metricsSubject=new te.t({memoryUsage:0,cpuUsage:0,responseTime:0,pageLoadTime:0,networkLatency:0,errorRate:0,userInteractions:0,timestamp:new Date}),this.thresholds={memoryWarning:100,memoryCritical:200,responseTimeWarning:1e3,responseTimeCritical:3e3,errorRateWarning:5,errorRateCritical:10},this.performanceObserver=null,this.memoryObserver=null,this.errorCount=0,this.totalRequests=0,this.userInteractionCount=0,this.pageLoadStartTime=performance.now(),this.metrics$=this.metricsSubject.asObservable(),this.initializePerformanceMonitoring()}initializePerformanceMonitoring(){this.startMemoryMonitoring(),this.startPagePerformanceMonitoring(),this.startUserInteractionMonitoring(),this.startNetworkMonitoring(),this.startPeriodicMonitoring()}startMemoryMonitoring(){if("memory"in performance){const i=performance.memory;i&&(0,yr.Y)(5e3).subscribe(()=>{const s=Math.round(i.usedJSHeapSize/1024/1024);this.updateMetrics({memoryUsage:s}),this.checkMemoryThresholds(s)})}}startPagePerformanceMonitoring(){if(window.addEventListener("load",()=>{const i=performance.now()-this.pageLoadStartTime;this.updateMetrics({pageLoadTime:i})}),"navigation"in performance){const i=performance.navigation;i&&this.updateMetrics({responseTime:i.responseEnd-i.requestStart})}if("PerformanceObserver"in window)try{this.performanceObserver=new PerformanceObserver(i=>{i.getEntries().forEach(s=>{"resource"===s.entryType&&this.updateMetrics({networkLatency:s.responseStart-s.requestStart})})}),this.performanceObserver.observe({entryTypes:["resource"]})}catch(i){console.warn("PerformanceObserver not supported:",i)}}startUserInteractionMonitoring(){["click","keydown","scroll","mousemove"].forEach(s=>{document.addEventListener(s,()=>{this.userInteractionCount++,this.updateMetrics({userInteractions:this.userInteractionCount})},{passive:!0})})}startNetworkMonitoring(){var i=this;const s=window.fetch;window.fetch=(0,mi.A)(function*(...o){const r=performance.now();i.totalRequests++;try{const a=yield s(...o),l=performance.now()-r;return i.updateMetrics({responseTime:l}),a}catch(a){throw i.errorCount++,i.updateErrorRate(),a}}),console.log("XMLHttpRequest monitoring initialized")}startPeriodicMonitoring(){(0,yr.Y)(1e4).subscribe(()=>{this.collectMetrics()})}collectMetrics(){const i=this.metricsSubject.value;this.updateErrorRate(),i.timestamp=new Date,this.metricsSubject.next({...i})}updateMetrics(i){this.metricsSubject.next({...this.metricsSubject.value,...i})}updateErrorRate(){this.totalRequests>0&&this.updateMetrics({errorRate:this.errorCount/this.totalRequests*100})}checkMemoryThresholds(i){i>=this.thresholds.memoryCritical?this.emitPerformanceWarning("CRITICAL",`Memory usage is critical: ${i}MB`):i>=this.thresholds.memoryWarning&&this.emitPerformanceWarning("WARNING",`Memory usage is high: ${i}MB`)}checkResponseTimeThresholds(i){i>=this.thresholds.responseTimeCritical?this.emitPerformanceWarning("CRITICAL",`Response time is critical: ${i}ms`):i>=this.thresholds.responseTimeWarning&&this.emitPerformanceWarning("WARNING",`Response time is slow: ${i}ms`)}checkErrorRateThresholds(i){i>=this.thresholds.errorRateCritical?this.emitPerformanceWarning("CRITICAL",`Error rate is critical: ${i.toFixed(2)}%`):i>=this.thresholds.errorRateWarning&&this.emitPerformanceWarning("WARNING",`Error rate is high: ${i.toFixed(2)}%`)}emitPerformanceWarning(i,s){const o={level:i,message:s,timestamp:new Date,metrics:this.metricsSubject.value};this.ngZone.run(()=>{console.warn(`Performance ${i}:`,o)})}getCurrentMetrics(){return this.metricsSubject.value}getMetricsHistory(){return this.metricsSubject.asObservable()}trackCustomMetric(i,s){const o=this.metricsSubject.value;o[i]=s,this.metricsSubject.next({...o})}trackApiCall(i,s,o,r,a){const c=r-o;this.totalRequests++,a||(this.errorCount++,this.updateErrorRate()),this.updateMetrics({responseTime:c}),console.log(`API Call: ${s} ${i} - ${c.toFixed(2)}ms - ${a?"SUCCESS":"FAILED"}`)}getPerformanceReport(){const i=this.getCurrentMetrics(),s=[];let o="GOOD";return i.memoryUsage>=this.thresholds.memoryCritical?(o="CRITICAL",s.push("Memory usage is critical. Consider optimizing memory usage or increasing available memory.")):i.memoryUsage>=this.thresholds.memoryWarning&&(o="WARNING",s.push("Memory usage is high. Monitor for memory leaks.")),i.responseTime>=this.thresholds.responseTimeCritical?(o="CRITICAL",s.push("Response time is critical. Investigate performance bottlenecks.")):i.responseTime>=this.thresholds.responseTimeWarning&&(o="WARNING",s.push("Response time is slow. Consider optimization.")),i.errorRate>=this.thresholds.errorRateCritical?(o="CRITICAL",s.push("Error rate is critical. Investigate system stability.")):i.errorRate>=this.thresholds.errorRateWarning&&(o="WARNING",s.push("Error rate is high. Review error handling.")),{summary:i,recommendations:s,health:o}}updateThresholds(i){this.thresholds={...this.thresholds,...i}}resetMetrics(){this.errorCount=0,this.totalRequests=0,this.userInteractionCount=0,this.pageLoadStartTime=performance.now(),this.metricsSubject.next({memoryUsage:0,cpuUsage:0,responseTime:0,pageLoadTime:0,networkLatency:0,errorRate:0,userInteractions:0,timestamp:new Date})}destroy(){this.performanceObserver&&this.performanceObserver.disconnect(),this.memoryObserver&&this.memoryObserver.disconnect()}static#t=e=()=>(this.\u0275fac=function(s){return new(s||n)(H.KVO(u.SKi))},this.\u0275prov=H.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}))}return e(),n})();function sm(e,n){if(1&e){const t=u.RV6();u.j41(0,"button",30),u.bIt("click",function(){H.eBV(t);const s=u.XpG();return H.Njj(s.startMonitoring())}),u.j41(1,"span",7),u.EFF(2),u.k0s(),u.EFF(3," Start Monitoring "),u.k0s()}if(2&e){const t=u.XpG();u.R7$(2),u.JRh(t.icons.play)}}function om(e,n){if(1&e){const t=u.RV6();u.j41(0,"button",31),u.bIt("click",function(){H.eBV(t);const s=u.XpG();return H.Njj(s.stopMonitoring())}),u.j41(1,"span",7),u.EFF(2),u.k0s(),u.EFF(3," Stop Monitoring "),u.k0s()}if(2&e){const t=u.XpG();u.R7$(2),u.JRh(t.icons.pause)}}function rm(e,n){1&e&&(u.j41(0,"div",32)(1,"div",33),u.nrm(2,"div",34),u.j41(3,"span",35),u.EFF(4,"Real-time Monitoring Active"),u.k0s()()())}function am(e,n){if(1&e&&(u.j41(0,"div",36)(1,"div",37)(2,"div",38),u.EFF(3),u.k0s(),u.j41(4,"div",39),u.EFF(5,"Total Threats"),u.k0s()(),u.j41(6,"div",37)(7,"div",40),u.EFF(8),u.k0s(),u.j41(9,"div",39),u.EFF(10,"High Threats"),u.k0s()(),u.j41(11,"div",37)(12,"div",41),u.EFF(13),u.k0s(),u.j41(14,"div",39),u.EFF(15,"Medium Threats"),u.k0s()(),u.j41(16,"div",37)(17,"div",42),u.EFF(18),u.k0s(),u.j41(19,"div",39),u.EFF(20,"Low Threats"),u.k0s()(),u.j41(21,"div",37)(22,"div",43),u.EFF(23),u.k0s(),u.j41(24,"div",39),u.EFF(25,"Avg Risk Score"),u.k0s()(),u.j41(26,"div",37)(27,"div",44),u.EFF(28),u.k0s(),u.j41(29,"div",39),u.EFF(30,"Last Updated"),u.k0s()()()),2&e){const t=n.ngIf,i=u.XpG();u.R7$(3),u.JRh(t.totalThreats),u.R7$(5),u.JRh(t.highThreats),u.R7$(5),u.JRh(t.mediumThreats),u.R7$(5),u.JRh(t.lowThreats),u.R7$(5),u.JRh(t.averageRiskScore.toFixed(2)),u.R7$(5),u.SpI(" ",i.formatDate(t.generatedAt)," ")}}function cm(e,n){if(1&e&&(u.j41(0,"span",45),u.EFF(1),u.k0s()),2&e){const t=n.ngIf;u.R7$(),u.SpI(" ",t.length," ")}}function lm(e,n){if(1&e&&(u.j41(0,"span",58),u.EFF(1),u.k0s()),2&e){const t=n.$implicit;u.R7$(),u.JRh(t)}}function hm(e,n){if(1&e){const t=u.RV6();u.j41(0,"div",49),u.bIt("click",function(){const s=H.eBV(t).$implicit,o=u.XpG(2);return H.Njj(o.viewIncidentDetails(s))}),u.j41(1,"div",50)(2,"span",51),u.EFF(3),u.k0s(),u.j41(4,"span",52),u.EFF(5),u.k0s()(),u.j41(6,"div",53)(7,"span",54),u.EFF(8),u.k0s(),u.j41(9,"span",55),u.EFF(10),u.k0s()(),u.j41(11,"div",56),u.DNE(12,lm,2,1,"span",57),u.k0s()()}if(2&e){const t=n.$implicit,i=u.XpG(2);u.R7$(3),u.JRh(t.title),u.R7$(),u.xc7("background-color",i.getThreatLevelColor(t.severity)),u.R7$(),u.SpI(" ",t.severity," "),u.R7$(2),u.xc7("color",i.getStatusColor(t.status)),u.R7$(),u.SpI(" ",t.status," "),u.R7$(2),u.JRh(i.formatDate(t.createdAt)),u.R7$(2),u.Y8G("ngForOf",t.tags)}}function dm(e,n){if(1&e&&(u.j41(0,"div",59)(1,"span",60),u.EFF(2),u.k0s(),u.j41(3,"p"),u.EFF(4,"No active incidents"),u.k0s()()),2&e){const t=u.XpG(2);u.R7$(2),u.JRh(t.icons.shield)}}function um(e,n){if(1&e&&(u.j41(0,"div",46),u.DNE(1,hm,13,9,"div",47)(2,dm,5,1,"div",48),u.k0s()),2&e){const t=n.ngIf;u.R7$(),u.Y8G("ngForOf",t),u.R7$(),u.Y8G("ngIf",0===t.length)}}function fm(e,n){if(1&e&&(u.j41(0,"span",70),u.EFF(1),u.k0s()),2&e){const t=n.$implicit;u.R7$(),u.JRh(t)}}function gm(e,n){if(1&e&&(u.j41(0,"div",63)(1,"div",64)(2,"span",65),u.EFF(3),u.k0s(),u.j41(4,"span",66),u.EFF(5),u.k0s()(),u.j41(6,"div",67),u.EFF(7),u.k0s(),u.j41(8,"div",68),u.DNE(9,fm,2,1,"span",69),u.k0s()()),2&e){const t=n.$implicit,i=u.XpG(2);u.R7$(3),u.JRh(t.name),u.R7$(),u.xc7("background-color",i.getThreatLevelColor(t.severity)),u.R7$(),u.SpI(" ",t.severity," "),u.R7$(2),u.JRh(t.description),u.R7$(2),u.Y8G("ngForOf",t.actions)}}function pm(e,n){if(1&e&&(u.j41(0,"div",61),u.DNE(1,gm,10,6,"div",62),u.k0s()),2&e){const t=n.ngIf;u.R7$(),u.Y8G("ngForOf",t)}}function mm(e,n){if(1&e&&(u.j41(0,"div",77)(1,"strong"),u.EFF(2,"Resolved:"),u.k0s(),u.EFF(3),u.k0s()),2&e){const t=u.XpG(3);u.R7$(3),u.SpI(" ",t.formatDate(t.selectedIncident.resolvedAt)," ")}}function bm(e,n){if(1&e&&(u.j41(0,"span",58),u.EFF(1),u.k0s()),2&e){const t=n.$implicit;u.R7$(),u.JRh(t)}}function _m(e,n){if(1&e){const t=u.RV6();u.j41(0,"div",73),u.bIt("click",function(s){return H.eBV(t),H.Njj(s.stopPropagation())}),u.j41(1,"div",74)(2,"h3"),u.EFF(3,"Incident Details"),u.k0s(),u.j41(4,"button",75),u.bIt("click",function(){H.eBV(t);const s=u.XpG(2);return H.Njj(s.showIncidentDetailsModal=!1)}),u.EFF(5,"\xd7"),u.k0s()(),u.j41(6,"div",76)(7,"div",77)(8,"strong"),u.EFF(9,"Title:"),u.k0s(),u.EFF(10),u.k0s(),u.j41(11,"div",77)(12,"strong"),u.EFF(13,"Description:"),u.k0s(),u.EFF(14),u.k0s(),u.j41(15,"div",77)(16,"strong"),u.EFF(17,"Severity:"),u.k0s(),u.j41(18,"span",78),u.EFF(19),u.k0s()(),u.j41(20,"div",77)(21,"strong"),u.EFF(22,"Status:"),u.k0s(),u.j41(23,"span",79),u.EFF(24),u.k0s()(),u.j41(25,"div",77)(26,"strong"),u.EFF(27,"Assigned To:"),u.k0s(),u.EFF(28),u.k0s(),u.j41(29,"div",77)(30,"strong"),u.EFF(31,"Created:"),u.k0s(),u.EFF(32),u.k0s(),u.DNE(33,mm,4,1,"div",80),u.j41(34,"div",77)(35,"strong"),u.EFF(36,"Tags:"),u.k0s(),u.DNE(37,bm,2,1,"span",57),u.k0s()(),u.j41(38,"div",81)(39,"button",82),u.bIt("click",function(){H.eBV(t);const s=u.XpG(2);return H.Njj(s.executeAutomatedResponse(s.selectedIncident))}),u.EFF(40," Execute Response "),u.k0s(),u.j41(41,"button",83),u.bIt("click",function(){H.eBV(t);const s=u.XpG(2);return H.Njj(s.showIncidentDetailsModal=!1)}),u.EFF(42," Close "),u.k0s()()()}if(2&e){const t=u.XpG(2);u.R7$(10),u.SpI(" ",t.selectedIncident.title," "),u.R7$(4),u.SpI(" ",t.selectedIncident.description," "),u.R7$(4),u.xc7("background-color",t.getThreatLevelColor(t.selectedIncident.severity)),u.R7$(),u.SpI(" ",t.selectedIncident.severity," "),u.R7$(4),u.xc7("color",t.getStatusColor(t.selectedIncident.status)),u.R7$(),u.SpI(" ",t.selectedIncident.status," "),u.R7$(4),u.SpI(" ",t.selectedIncident.assignedTo," "),u.R7$(4),u.SpI(" ",t.formatDate(t.selectedIncident.createdAt)," "),u.R7$(),u.Y8G("ngIf",t.selectedIncident.resolvedAt),u.R7$(4),u.Y8G("ngForOf",t.selectedIncident.tags)}}function ym(e,n){if(1&e){const t=u.RV6();u.j41(0,"div",71),u.bIt("click",function(){H.eBV(t);const s=u.XpG();return H.Njj(s.showIncidentDetailsModal=!1)}),u.DNE(1,_m,43,12,"div",72),u.k0s()}if(2&e){const t=u.XpG();u.R7$(),u.Y8G("ngIf",t.selectedIncident)}}let xm=(()=>{var e;class n{constructor(i,s,o){this.threatDetectionService=i,this.securityService=s,this.performanceService=o,this.icons={shield:"\u{1f6e1}\ufe0f",warning:"\u26a0\ufe0f",chart:"\u{1f4ca}",list:"\u{1f4cb}",settings:"\u2699\ufe0f",cog:"\u2699\ufe0f",play:"\u25b6\ufe0f",pause:"\u23f8\ufe0f",refresh:"\u{1f504}"},this.metrics$=this.threatDetectionService.metrics$,this.incidents$=this.threatDetectionService.incidents$,this.patterns$=this.threatDetectionService.patterns$,this.isMonitoring$=this.threatDetectionService.isMonitoring$,this.threatTrendChartData={labels:[],datasets:[{label:"Threat Count",data:[],borderColor:"#dc3545",backgroundColor:"rgba(220, 53, 69, 0.1)",tension:.4}]},this.threatLevelChartData={labels:["Low","Medium","High","Critical"],datasets:[{data:[0,0,0,0],backgroundColor:["#28a745","#ffc107","#fd7e14","#dc3545"],borderWidth:2}]},this.chartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}},this.isLoading=!1,this.selectedIncident=null,this.showCreateIncidentModal=!1,this.showIncidentDetailsModal=!1}ngOnInit(){this.initializeDashboard(),this.startMonitoring()}ngOnDestroy(){this.threatDetectionService.stopMonitoring()}initializeDashboard(){this.metrics$.subscribe(i=>{i&&this.updateCharts(i)}),this.performanceService.metrics$.subscribe(i=>{})}updateCharts(i){this.threatLevelChartData.datasets[0].data=[i.lowThreats,i.mediumThreats,i.highThreats,i.totalThreats-i.lowThreats-i.mediumThreats-i.highThreats],this.threatTrendChartData.labels=i.trends.map(s=>new Date(s.date).toLocaleDateString()),this.threatTrendChartData.datasets[0].data=i.trends.map(s=>s.threatCount)}startMonitoring(){this.threatDetectionService.startMonitoring(3e4)}stopMonitoring(){this.threatDetectionService.stopMonitoring()}refreshData(){this.isLoading=!0,this.threatDetectionService.loadThreatMetrics(),this.threatDetectionService.loadActiveIncidents(),this.threatDetectionService.loadThreatPatterns(),setTimeout(()=>{this.isLoading=!1},1e3)}viewIncidentDetails(i){this.selectedIncident=i,this.showIncidentDetailsModal=!0}createNewIncident(){this.showCreateIncidentModal=!0}updateIncidentStatus(i,s){this.threatDetectionService.updateIncidentStatus(i,s).subscribe({next:o=>{o&&this.refreshData()},error:o=>{console.error("Error updating incident status:",o)}})}executeAutomatedResponse(i){const s=["log_incident","notify_admin"];("High"===i.severity||"Critical"===i.severity)&&s.push("temporary_block"),this.threatDetectionService.executeAutomatedResponse(i.id,i.severity,s).subscribe({next:o=>{console.log("Automated response executed:",o),this.refreshData()},error:o=>{console.error("Error executing automated response:",o)}})}analyzeCurrentRequest(){const i={userId:"current-user",ipAddress:"127.0.0.1",userAgent:navigator.userAgent,endpoint:"/security/dashboard",method:"GET",headers:{},timestamp:new Date};this.threatDetectionService.analyzeRequest(i).subscribe({next:s=>{console.log("Threat analysis result:",s)},error:s=>{console.error("Error analyzing request:",s)}})}getThreatLevelColor(i){return this.threatDetectionService.getThreatLevelColor(i)}getThreatLevelIcon(i){return this.threatDetectionService.getThreatLevelIcon(i)}getStatusColor(i){switch(i){case"Open":return"#dc3545";case"InProgress":return"#ffc107";case"Resolved":return"#28a745";case"Closed":default:return"#6c757d";case"Escalated":return"#fd7e14"}}formatDate(i){return new Date(i).toLocaleString()}getSeverityIcon(i){switch(i){case"Low":return"shield-check";case"Medium":return"shield-exclamation";case"High":return"shield-x";case"Critical":return"exclamation-triangle";default:return"shield"}}static#t=e=()=>(this.\u0275fac=function(s){return new(s||n)(u.rXU(tm.f),u.rXU(nm),u.rXU(im))},this.\u0275cmp=u.VBU({type:n,selectors:[["app-security-dashboard"]],decls:91,vars:42,consts:[[1,"security-dashboard"],[1,"dashboard-header"],[1,"header-content"],[1,"dashboard-title"],[1,"title-icon"],[1,"header-actions"],[1,"btn","btn-outline-primary","me-2",3,"click","disabled"],[1,"me-2"],["class","btn btn-success me-2",3,"click",4,"ngIf"],["class","btn btn-warning me-2",3,"click",4,"ngIf"],[1,"btn","btn-primary",3,"click"],["class","monitoring-status",4,"ngIf"],[1,"dashboard-grid"],[1,"dashboard-card","metrics-overview"],[1,"card-header"],[1,"card-title"],[1,"card-body"],["class","metrics-grid",4,"ngIf"],[1,"dashboard-card","chart-card"],[1,"chart-container"],["baseChart","",3,"data","options","type"],[1,"dashboard-card","incidents-card"],["class","incident-count",4,"ngIf"],["class","incidents-list",4,"ngIf"],[1,"dashboard-card","patterns-card"],["class","patterns-list",4,"ngIf"],[1,"dashboard-card","actions-card"],[1,"actions-grid"],[1,"action-btn",3,"click"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"btn","btn-success","me-2",3,"click"],[1,"btn","btn-warning","me-2",3,"click"],[1,"monitoring-status"],[1,"status-indicator","active"],[1,"pulse"],[1,"status-text"],[1,"metrics-grid"],[1,"metric-item"],[1,"metric-value","total"],[1,"metric-label"],[1,"metric-value","high"],[1,"metric-value","medium"],[1,"metric-value","low"],[1,"metric-value","risk"],[1,"metric-value","timestamp"],[1,"incident-count"],[1,"incidents-list"],["class","incident-item",3,"click",4,"ngFor","ngForOf"],["class","no-incidents",4,"ngIf"],[1,"incident-item",3,"click"],[1,"incident-header"],[1,"incident-title"],[1,"incident-severity"],[1,"incident-details"],[1,"incident-status"],[1,"incident-date"],[1,"incident-tags"],["class","tag",4,"ngFor","ngForOf"],[1,"tag"],[1,"no-incidents"],[1,"no-incidents-icon"],[1,"patterns-list"],["class","pattern-item",4,"ngFor","ngForOf"],[1,"pattern-item"],[1,"pattern-header"],[1,"pattern-name"],[1,"pattern-severity"],[1,"pattern-description"],[1,"pattern-actions"],["class","action",4,"ngFor","ngForOf"],[1,"action"],[1,"modal-overlay",3,"click"],["class","modal-content",3,"click",4,"ngIf"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"incident-detail"],[1,"severity-badge"],[1,"status-badge"],["class","incident-detail",4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-primary","me-2",3,"click"],[1,"btn","btn-secondary",3,"click"]],template:function(s,o){1&s&&(u.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3)(4,"span",4),u.EFF(5),u.k0s(),u.EFF(6," Security Dashboard "),u.k0s(),u.j41(7,"div",5)(8,"button",6),u.bIt("click",function(){return o.refreshData()}),u.j41(9,"span",7),u.EFF(10),u.k0s(),u.EFF(11),u.k0s(),u.DNE(12,sm,4,1,"button",8),u.nI1(13,"async"),u.DNE(14,om,4,1,"button",9),u.nI1(15,"async"),u.j41(16,"button",10),u.bIt("click",function(){return o.createNewIncident()}),u.j41(17,"span",7),u.EFF(18),u.k0s(),u.EFF(19," New Incident "),u.k0s()()()(),u.DNE(20,rm,5,0,"div",11),u.nI1(21,"async"),u.j41(22,"div",12)(23,"div",13)(24,"div",14)(25,"h3",15)(26,"span",7),u.EFF(27),u.k0s(),u.EFF(28," Threat Overview "),u.k0s()(),u.j41(29,"div",16),u.DNE(30,am,31,6,"div",17),u.nI1(31,"async"),u.k0s()(),u.j41(32,"div",18)(33,"div",14)(34,"h3",15)(35,"span",7),u.EFF(36),u.k0s(),u.EFF(37," Threat Level Distribution "),u.k0s()(),u.j41(38,"div",16)(39,"div",19),u.nrm(40,"canvas",20),u.k0s()()(),u.j41(41,"div",18)(42,"div",14)(43,"h3",15)(44,"span",7),u.EFF(45),u.k0s(),u.EFF(46," Threat Trends (7 Days) "),u.k0s()(),u.j41(47,"div",16)(48,"div",19),u.nrm(49,"canvas",20),u.k0s()()(),u.j41(50,"div",21)(51,"div",14)(52,"h3",15)(53,"span",7),u.EFF(54),u.k0s(),u.EFF(55," Active Incidents "),u.k0s(),u.DNE(56,cm,2,1,"span",22),u.nI1(57,"async"),u.k0s(),u.j41(58,"div",16),u.DNE(59,um,3,2,"div",23),u.nI1(60,"async"),u.k0s()(),u.j41(61,"div",24)(62,"div",14)(63,"h3",15)(64,"span",7),u.EFF(65),u.k0s(),u.EFF(66," Active Threat Patterns "),u.k0s()(),u.j41(67,"div",16),u.DNE(68,pm,2,1,"div",25),u.nI1(69,"async"),u.k0s()(),u.j41(70,"div",26)(71,"div",14)(72,"h3",15)(73,"span",7),u.EFF(74),u.k0s(),u.EFF(75," Quick Actions "),u.k0s()(),u.j41(76,"div",16)(77,"div",27)(78,"button",28),u.bIt("click",function(){return o.analyzeCurrentRequest()}),u.j41(79,"span",7),u.EFF(80),u.k0s(),u.EFF(81," Analyze Current Request "),u.k0s(),u.j41(82,"button",28),u.bIt("click",function(){return o.createNewIncident()}),u.j41(83,"span",7),u.EFF(84),u.k0s(),u.EFF(85," Create Incident "),u.k0s(),u.j41(86,"button",28),u.bIt("click",function(){return o.refreshData()}),u.j41(87,"span",7),u.EFF(88),u.k0s(),u.EFF(89," Refresh Data "),u.k0s()()()()(),u.DNE(90,ym,2,1,"div",29),u.k0s()),2&s&&(u.R7$(5),u.JRh(o.icons.shield),u.R7$(3),u.Y8G("disabled",o.isLoading),u.R7$(2),u.JRh(o.icons.refresh),u.R7$(),u.SpI(" ",o.isLoading?"Refreshing...":"Refresh"," "),u.R7$(),u.Y8G("ngIf",!u.bMT(13,28,o.isMonitoring$)),u.R7$(2),u.Y8G("ngIf",u.bMT(15,30,o.isMonitoring$)),u.R7$(4),u.JRh(o.icons.warning),u.R7$(2),u.Y8G("ngIf",u.bMT(21,32,o.isMonitoring$)),u.R7$(7),u.JRh(o.icons.chart),u.R7$(3),u.Y8G("ngIf",u.bMT(31,34,o.metrics$)),u.R7$(6),u.JRh(o.icons.chart),u.R7$(4),u.Y8G("data",o.threatLevelChartData)("options",o.chartOptions)("type","doughnut"),u.R7$(5),u.JRh(o.icons.chart),u.R7$(4),u.Y8G("data",o.threatTrendChartData)("options",o.chartOptions)("type","line"),u.R7$(5),u.JRh(o.icons.list),u.R7$(2),u.Y8G("ngIf",u.bMT(57,36,o.incidents$)),u.R7$(3),u.Y8G("ngIf",u.bMT(60,38,o.incidents$)),u.R7$(6),u.JRh(o.icons.shield),u.R7$(3),u.Y8G("ngIf",u.bMT(69,40,o.patterns$)),u.R7$(6),u.JRh(o.icons.cog),u.R7$(6),u.JRh(o.icons.shield),u.R7$(4),u.JRh(o.icons.warning),u.R7$(4),u.JRh(o.icons.refresh),u.R7$(2),u.Y8G("ngIf",o.showIncidentDetailsModal))},dependencies:[Te.MD,Te.Sq,Te.bT,xr.iI,_i.YN,_i.X1,Qp,Te.Jj],styles:[".security-dashboard[_ngcontent-%COMP%]{padding:1.5rem;background:linear-gradient(135deg,#f8f9fa,#e9ecef);min-height:100vh}.security-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2c3e50,#34495e);border-radius:12px;padding:2rem;margin-bottom:2rem;box-shadow:0 8px 32px #0000001a}.security-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem}.security-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .dashboard-title[_ngcontent-%COMP%]{color:#fff;margin:0;font-size:2.5rem;font-weight:700;display:flex;align-items:center;gap:1rem}.security-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .dashboard-title[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{font-size:2rem;color:#3498db}.security-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;flex-wrap:wrap}.security-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:8px;font-weight:600;padding:.75rem 1.5rem;transition:all .3s ease;border:none;box-shadow:0 4px 12px #00000026}.security-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #0003}.security-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.security-dashboard[_ngcontent-%COMP%]   .monitoring-status[_ngcontent-%COMP%]{margin-bottom:2rem;text-align:center}.security-dashboard[_ngcontent-%COMP%]   .monitoring-status[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.75rem;background:#28a7451a;border:2px solid #28a745;border-radius:25px;padding:.75rem 1.5rem;color:#28a745;font-weight:600}.security-dashboard[_ngcontent-%COMP%]   .monitoring-status[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]   .pulse[_ngcontent-%COMP%]{width:12px;height:12px;background:#28a745;border-radius:50%;animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%{box-shadow:0 0 #28a745b3}70%{box-shadow:0 0 0 10px #28a74500}to{box-shadow:0 0 #28a74500}}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:2rem;margin-bottom:2rem}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]   .dashboard-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 4px 20px #00000014;overflow:hidden;transition:all .3s ease;border:1px solid rgba(0,0,0,.05)}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]   .dashboard-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 30px #0000001f}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]   .dashboard-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);padding:1.5rem;border-bottom:1px solid rgba(0,0,0,.05);display:flex;justify-content:space-between;align-items:center}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]   .dashboard-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600;color:#2c3e50;display:flex;align-items:center;gap:.5rem}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]   .dashboard-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .incident-count[_ngcontent-%COMP%]{background:#dc3545;color:#fff;padding:.25rem .75rem;border-radius:20px;font-size:.875rem;font-weight:600}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]   .dashboard-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.5rem}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]   .metrics-overview[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:1rem}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]   .metrics-overview[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-item[_ngcontent-%COMP%]{text-align:center;padding:1rem;background:#00000005;border-radius:8px;border:1px solid rgba(0,0,0,.05)}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]   .metrics-overview[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-item[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:.5rem}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]   .metrics-overview[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-item[_ngcontent-%COMP%]   .metric-value.total[_ngcontent-%COMP%]{color:#6c757d}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]   .metrics-overview[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-item[_ngcontent-%COMP%]   .metric-value.high[_ngcontent-%COMP%]{color:#dc3545}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]   .metrics-overview[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-item[_ngcontent-%COMP%]   .metric-value.medium[_ngcontent-%COMP%]{color:#fd7e14}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]   .metrics-overview[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-item[_ngcontent-%COMP%]   .metric-value.low[_ngcontent-%COMP%]{color:#28a745}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]   .metrics-overview[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-item[_ngcontent-%COMP%]   .metric-value.risk[_ngcontent-%COMP%]{color:#6f42c1}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]   .metrics-overview[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-item[_ngcontent-%COMP%]   .metric-value.timestamp[_ngcontent-%COMP%]{font-size:.875rem;color:#6c757d;font-weight:400}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]   .metrics-overview[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-item[_ngcontent-%COMP%]   .metric-label[_ngcontent-%COMP%]{font-size:.875rem;color:#6c757d;font-weight:500}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{height:300px;position:relative}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]   .incidents-card[_ngcontent-%COMP%]   .incidents-list[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]   .incidents-card[_ngcontent-%COMP%]   .incidents-list[_ngcontent-%COMP%]   .incident-item[_ngcontent-%COMP%]{padding:1rem;border:1px solid rgba(0,0,0,.05);border-radius:8px;margin-bottom:.75rem;cursor:pointer;transition:all .2s ease}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]   .incidents-card[_ngcontent-%COMP%]   .incidents-list[_ngcontent-%COMP%]   .incident-item[_ngcontent-%COMP%]:hover{background:#00000005;border-color:#3498db}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]   .incidents-card[_ngcontent-%COMP%]   .incidents-list[_ngcontent-%COMP%]   .incident-item[_ngcontent-%COMP%]   .incident-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]   .incidents-card[_ngcontent-%COMP%]   .incidents-list[_ngcontent-%COMP%]   .incident-item[_ngcontent-%COMP%]   .incident-header[_ngcontent-%COMP%]   .incident-title[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]   .incidents-card[_ngcontent-%COMP%]   .incidents-list[_ngcontent-%COMP%]   .incident-item[_ngcontent-%COMP%]   .incident-header[_ngcontent-%COMP%]   .incident-severity[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:20px;font-size:.75rem;font-weight:600;color:#fff;text-transform:uppercase}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]   .incidents-card[_ngcontent-%COMP%]   .incidents-list[_ngcontent-%COMP%]   .incident-item[_ngcontent-%COMP%]   .incident-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem;font-size:.875rem}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]   .incidents-card[_ngcontent-%COMP%]   .incidents-list[_ngcontent-%COMP%]   .incident-item[_ngcontent-%COMP%]   .incident-details[_ngcontent-%COMP%]   .incident-status[_ngcontent-%COMP%]{font-weight:600}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]   .incidents-card[_ngcontent-%COMP%]   .incidents-list[_ngcontent-%COMP%]   .incident-item[_ngcontent-%COMP%]   .incident-details[_ngcontent-%COMP%]   .incident-date[_ngcontent-%COMP%]{color:#6c757d}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]   .incidents-card[_ngcontent-%COMP%]   .incidents-list[_ngcontent-%COMP%]   .incident-item[_ngcontent-%COMP%]   .incident-tags[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]   .incidents-card[_ngcontent-%COMP%]   .incidents-list[_ngcontent-%COMP%]   .incident-item[_ngcontent-%COMP%]   .incident-tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{background:#3498db1a;color:#3498db;padding:.25rem .5rem;border-radius:12px;font-size:.75rem;font-weight:500}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]   .incidents-card[_ngcontent-%COMP%]   .incidents-list[_ngcontent-%COMP%]   .no-incidents[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#6c757d}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]   .incidents-card[_ngcontent-%COMP%]   .incidents-list[_ngcontent-%COMP%]   .no-incidents[_ngcontent-%COMP%]   .no-incidents-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem;color:#28a745}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]   .patterns-card[_ngcontent-%COMP%]   .patterns-list[_ngcontent-%COMP%]   .pattern-item[_ngcontent-%COMP%]{padding:1rem;border:1px solid rgba(0,0,0,.05);border-radius:8px;margin-bottom:.75rem}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]   .patterns-card[_ngcontent-%COMP%]   .patterns-list[_ngcontent-%COMP%]   .pattern-item[_ngcontent-%COMP%]   .pattern-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]   .patterns-card[_ngcontent-%COMP%]   .patterns-list[_ngcontent-%COMP%]   .pattern-item[_ngcontent-%COMP%]   .pattern-header[_ngcontent-%COMP%]   .pattern-name[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]   .patterns-card[_ngcontent-%COMP%]   .patterns-list[_ngcontent-%COMP%]   .pattern-item[_ngcontent-%COMP%]   .pattern-header[_ngcontent-%COMP%]   .pattern-severity[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:20px;font-size:.75rem;font-weight:600;color:#fff;text-transform:uppercase}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]   .patterns-card[_ngcontent-%COMP%]   .patterns-list[_ngcontent-%COMP%]   .pattern-item[_ngcontent-%COMP%]   .pattern-description[_ngcontent-%COMP%]{color:#6c757d;margin-bottom:.5rem;font-size:.875rem}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]   .patterns-card[_ngcontent-%COMP%]   .patterns-list[_ngcontent-%COMP%]   .pattern-item[_ngcontent-%COMP%]   .pattern-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]   .patterns-card[_ngcontent-%COMP%]   .patterns-list[_ngcontent-%COMP%]   .pattern-item[_ngcontent-%COMP%]   .pattern-actions[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{background:#3498db1a;color:#3498db;padding:.25rem .5rem;border-radius:12px;font-size:.75rem;font-weight:500}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]   .actions-card[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]{display:grid;gap:1rem}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]   .actions-card[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3498db,#2980b9);color:#fff;border:none;border-radius:8px;padding:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:.5rem}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]   .actions-card[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #3498db4d}.security-dashboard[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;padding:1rem}.security-dashboard[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;max-width:600px;width:100%;max-height:90vh;overflow-y:auto;box-shadow:0 20px 60px #0000004d}.security-dashboard[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid rgba(0,0,0,.05);display:flex;justify-content:space-between;align-items:center}.security-dashboard[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#2c3e50}.security-dashboard[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;color:#6c757d;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%}.security-dashboard[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#0000000d;color:#2c3e50}.security-dashboard[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1.5rem}.security-dashboard[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .incident-detail[_ngcontent-%COMP%]{margin-bottom:1rem;padding:.75rem;background:#00000005;border-radius:6px}.security-dashboard[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .incident-detail[_ngcontent-%COMP%]   .severity-badge[_ngcontent-%COMP%], .security-dashboard[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .incident-detail[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:20px;font-size:.75rem;font-weight:600;text-transform:uppercase}.security-dashboard[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .incident-detail[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{background:#3498db1a;color:#3498db;padding:.25rem .5rem;border-radius:12px;font-size:.75rem;font-weight:500;margin-right:.5rem}.security-dashboard[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid rgba(0,0,0,.05);display:flex;justify-content:flex-end;gap:.75rem}.security-dashboard[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:8px;font-weight:600;padding:.75rem 1.5rem;border:none;cursor:pointer;transition:all .3s ease}.security-dashboard[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}@media (max-width: 768px){.security-dashboard[_ngcontent-%COMP%]{padding:1rem}.security-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]{padding:1.5rem}.security-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.security-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .dashboard-title[_ngcontent-%COMP%]{font-size:2rem}.security-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{justify-content:center}.security-dashboard[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}.security-dashboard[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]{padding:.5rem}.security-dashboard[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{margin:.5rem}}@media (prefers-color-scheme: dark){.security-dashboard[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a1a1a,#2d2d2d)}.security-dashboard[_ngcontent-%COMP%]   .dashboard-card[_ngcontent-%COMP%]{background:#2d2d2d;border-color:#ffffff1a}.security-dashboard[_ngcontent-%COMP%]   .dashboard-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3a3a3a,#2d2d2d)}.security-dashboard[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#2d2d2d;color:#fff}}"]}))}return e(),n})()}}]);