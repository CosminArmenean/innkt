"use strict";(self.webpackChunkinnkt=self.webpackChunkinnkt||[]).push([[641],{1641:(b,m,s)=>{s.r(m),s.d(m,{PostListComponent:()=>L});var l=s(2200),c=s(5596),d=s(8834),P=s(2629),h=s(6471),O=s(6695),u=s(9183),C=s(8018),M=s(8132),E=s(1413),g=s(6977),_=s(2615),t=s(3664),f=s(7989),x=s(4796),v=s(8822);const I=()=>[5,10,25,50];function D(a,r){if(1&a&&(t.j41(0,"mat-chip",15),t.EFF(1),t.k0s()),2&a){const o=r.$implicit;t.R7$(),t.SpI(" ",o," ")}}function T(a,r){if(1&a){const o=t.RV6();t.j41(0,"mat-card",8)(1,"mat-card-header")(2,"div",9),t.nrm(3,"img",10),t.k0s(),t.j41(4,"mat-card-title"),t.EFF(5),t.k0s(),t.j41(6,"mat-card-subtitle"),t.EFF(7),t.nI1(8,"translate"),t.nI1(9,"date"),t.k0s()(),t.j41(10,"mat-card-content")(11,"p",11),t.EFF(12),t.k0s(),t.j41(13,"div",12),t.DNE(14,D,2,1,"mat-chip",13),t.k0s()(),t.j41(15,"mat-card-actions")(16,"button",14),t.bIt("click",function(){const e=_.eBV(o).$implicit,i=t.XpG(2);return _.Njj(i.onLikePost(e.id))}),t.j41(17,"mat-icon"),t.EFF(18,"favorite_border"),t.k0s(),t.EFF(19),t.k0s(),t.j41(20,"button",14),t.bIt("click",function(){const e=_.eBV(o).$implicit,i=t.XpG(2);return _.Njj(i.commentPost(e.id))}),t.j41(21,"mat-icon"),t.EFF(22,"comment"),t.k0s(),t.EFF(23),t.k0s(),t.j41(24,"button",14),t.bIt("click",function(){const e=_.eBV(o).$implicit,i=t.XpG(2);return _.Njj(i.sharePost(e.id))}),t.j41(25,"mat-icon"),t.EFF(26,"share"),t.k0s(),t.EFF(27),t.nI1(28,"translate"),t.k0s()()()}if(2&a){const o=r.$implicit;t.R7$(3),t.Y8G("src",o.author.avatar||"assets/default-avatar.jpg",t.B4B)("alt",o.author.firstName+" "+o.author.lastName),t.R7$(2),t.JRh(o.title),t.R7$(2),t.LHq(" ",t.bMT(8,12,"POSTS.BY")," ",o.author.firstName," ",o.author.lastName," \u2022 ",t.i5U(9,14,o.createdAt,"medium")," "),t.R7$(5),t.JRh(o.content),t.R7$(2),t.Y8G("ngForOf",o.tags),t.R7$(5),t.SpI(" ",o.likes," "),t.R7$(4),t.SpI(" ",o.comments," "),t.R7$(4),t.SpI(" ",t.bMT(28,17,"POSTS.SHARE")," ")}}function R(a,r){if(1&a&&(t.j41(0,"div",6),t.DNE(1,T,29,19,"mat-card",7),t.k0s()),2&a){const o=t.XpG();t.R7$(),t.Y8G("ngForOf",o.posts)}}function F(a,r){1&a&&(t.j41(0,"div",16),t.nrm(1,"mat-spinner"),t.j41(2,"p"),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&a&&(t.R7$(3),t.JRh(t.bMT(4,1,"POSTS.LOADING")))}let L=(()=>{var a;class r{constructor(n,e,i){this.postsService=n,this.authService=e,this.snackBar=i,this.posts=[],this.loading=!1,this.pageSize=10,this.currentPage=0,this.totalPosts=0,this.currentUser=this.authService.getCurrentUser(),this.filters={},this.destroy$=new E.B}ngOnInit(){this.loadPosts(),this.postsService.posts$.pipe((0,g.Q)(this.destroy$)).subscribe(n=>{this.posts=n})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadPosts(){this.loading=!0,this.postsService.getPosts(this.currentPage,this.pageSize,this.filters).pipe((0,g.Q)(this.destroy$)).subscribe({next:n=>{this.totalPosts=n.totalCount,this.loading=!1},error:n=>{console.error("Error loading posts:",n),this.loading=!1,this.snackBar.open("Error loading posts","Close",{duration:3e3})}})}onPageChange(n){this.currentPage=n.pageIndex,this.pageSize=n.pageSize,this.loadPosts()}onLikePost(n){this.postsService.toggleLike(n).pipe((0,g.Q)(this.destroy$)).subscribe({next:()=>{this.snackBar.open("Post liked!","Close",{duration:2e3})},error:e=>{console.error("Error liking post:",e),this.snackBar.open("Error liking post","Close",{duration:3e3})}})}onDeletePost(n){confirm("Are you sure you want to delete this post?")&&this.postsService.deletePost(n).pipe((0,g.Q)(this.destroy$)).subscribe({next:()=>{this.snackBar.open("Post deleted successfully","Close",{duration:3e3})},error:e=>{console.error("Error deleting post:",e),this.snackBar.open("Error deleting post","Close",{duration:3e3})}})}applyFilters(n){this.filters={...this.filters,...n},this.currentPage=0,this.loadPosts()}commentPost(n){console.log("Commenting on post:",n)}sharePost(n){console.log("Sharing post:",n)}static#t=a=()=>(this.\u0275fac=function(e){return new(e||r)(t.rXU(f.v),t.rXU(x.u),t.rXU(v.UG))},this.\u0275cmp=t.VBU({type:r,selectors:[["app-post-list"]],decls:14,vars:13,consts:[["loadingTemplate",""],[1,"post-list-container"],[1,"post-list-header"],["mat-raised-button","","color","primary","routerLink","/posts/create"],["class","posts-container",4,"ngIf","ngIfElse"],["showFirstLastButtons","",3,"page","length","pageSize","pageIndex","pageSizeOptions"],[1,"posts-container"],["class","post-card",4,"ngFor","ngForOf"],[1,"post-card"],["mat-card-avatar","",1,"author-avatar"],[3,"src","alt"],[1,"post-content"],[1,"post-tags"],["class","tag-chip",4,"ngFor","ngForOf"],["mat-button","",3,"click"],[1,"tag-chip"],[1,"loading-container"]],template:function(e,i){if(1&e){const p=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"h1"),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"button",3)(6,"mat-icon"),t.EFF(7,"add"),t.k0s(),t.EFF(8),t.nI1(9,"translate"),t.k0s()(),t.DNE(10,R,2,1,"div",4)(11,F,5,3,"ng-template",null,0,t.C5r),t.j41(13,"mat-paginator",5),t.bIt("page",function(S){return _.eBV(p),_.Njj(i.onPageChange(S))}),t.k0s()()}if(2&e){const p=t.sdS(12);t.R7$(3),t.JRh(t.bMT(4,8,"POSTS.TITLE")),t.R7$(5),t.SpI(" ",t.bMT(9,10,"POSTS.CREATE_NEW")," "),t.R7$(2),t.Y8G("ngIf",!i.loading)("ngIfElse",p),t.R7$(3),t.Y8G("length",i.totalPosts)("pageSize",i.pageSize)("pageIndex",i.currentPage)("pageSizeOptions",t.lJ4(12,I))}},dependencies:[l.MD,l.Sq,l.bT,c.Hu,c.RN,c.YY,c.QG,c.m2,c.MM,c.Lc,c.dh,d.Hl,d.$z,P.m_,P.An,h.YN,h.Jl,O.Ou,O.iy,u.D6,u.LG,C.h,M.iI,M.Wk,l.vh,C.D9],styles:[".post-list-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:24px}.post-list-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:32px}.post-list-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;color:#333;margin:0}.post-list-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px 24px;font-size:1rem;font-weight:500}.post-list-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.posts-container[_ngcontent-%COMP%]{margin-bottom:32px}.post-card[_ngcontent-%COMP%]{margin-bottom:24px;border-radius:12px;box-shadow:0 4px 16px #0000001a;transition:transform .2s ease,box-shadow .2s ease}.post-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 24px #00000026}.author-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%}.post-content[_ngcontent-%COMP%]{font-size:1rem;line-height:1.6;color:#333;margin:16px 0}.post-tags[_ngcontent-%COMP%]{margin:16px 0}.post-tags[_ngcontent-%COMP%]   .tag-chip[_ngcontent-%COMP%]{margin-right:8px;margin-bottom:8px;background-color:#f0f0f0;color:#666}mat-card-actions[_ngcontent-%COMP%]{padding:16px;display:flex;gap:16px}mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#666}mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#667eea}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:16px;color:#666;font-size:1rem}[dir=rtl][_ngcontent-%COMP%]   .post-list-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:0;margin-left:8px}[dir=rtl][_ngcontent-%COMP%]   .post-tags[_ngcontent-%COMP%]   .tag-chip[_ngcontent-%COMP%]{margin-right:0;margin-left:8px}[dir=rtl][_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:0;margin-left:8px}@media (max-width: 768px){.post-list-container[_ngcontent-%COMP%]{padding:16px}.post-list-header[_ngcontent-%COMP%]{flex-direction:column;gap:16px;text-align:center}.post-list-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}mat-card-actions[_ngcontent-%COMP%]{flex-wrap:wrap;gap:8px}}"]}))}return a(),r})()}}]);