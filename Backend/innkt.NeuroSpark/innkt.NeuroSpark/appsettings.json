{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*",
  "ConnectionStrings": {
    "Redis": "localhost:6379"
  },
  "Redis": {
    "InstanceName": "NeuroSpark",
    "DefaultDatabase": 1,
    "ConnectTimeout": 5000,
    "SyncTimeout": 5000,
    "AbortConnect": false,
    "ConnectRetry": 3,
    "Pool": {
      "MaxConnections": 50,
      "ConnectionTimeout": 5000,
      "KeepAlive": 180,
      "ConnectRetry": 3,
      "MaxResponseTime": 1000,
      "EnablePerformanceCounters": true
    }
  },
  "OfficerService": {
    "BaseUrl": "https://localhost:5003",
    "Timeout": 30000,
    "RetryCount": 3
  },
  "ServiceAuth": {
    "ServiceId": "NeuroSpark",
    "SecretKey": "neurospark-secret-key-2025",
    "TokenExpiryHours": 24,
    "CacheExpiryMinutes": 5
  },
  "RateLimiting": {
    "EnableRateLimiting": true,
    "DefaultMaxRequests": 100,
    "DefaultWindow": "00:01:00",
    "DefaultBlockDuration": "00:05:00",
    "FailOpen": true,
    "EnableLogging": true,
    "EnableMetrics": true
  },
  "Kafka": {
    "BootstrapServers": "localhost:9092",
    "Producer": {
      "ClientId": "neurospark-producer",
      "Acks": "All",
      "EnableIdempotence": true,
      "MessageTimeoutMs": 30000,
      "RetryBackoffMs": 100,
      "MessageSendMaxRetries": 3,
      "CompressionType": "Snappy",
      "BatchSize": 16384,
      "LingerMs": 5
    },
    "Consumer": {
      "GroupId": "neurospark-consumer-group",
      "ClientId": "neurospark-consumer",
      "AutoOffsetReset": "Earliest",
      "EnableAutoCommit": true,
      "AutoCommitIntervalMs": 5000,
      "SessionTimeoutMs": 30000,
      "HeartbeatIntervalMs": 3000,
      "MaxPollIntervalMs": 300000,
      "FetchMinBytes": 1,
      "FetchMaxWaitMs": 100,
      "StopOnError": false
    },
    "Service": {
      "ServiceName": "NeuroSpark",
      "SubscribeToTopics": [
        "user.events",
        "image.processing.events",
        "qr.code.events"
      ],
      "PublishToTopics": [
        "image.processing.results",
        "qr.code.results",
        "service.health"
      ]
    }
  },
  "NeuroSpark": {
    "ImageProcessing": {
      "MaxFileSize": 10485760,
      "AllowedFormats": ["image/png", "image/jpeg", "image/webp"],
      "DefaultOutputSize": 512,
      "DefaultOutputFormat": "PNG",
      "EnableBackgroundRemoval": true,
      "EnableImageEnhancement": true
    },
    "QrCode": {
      "DefaultSize": 256,
      "DefaultFormat": "PNG",
      "DefaultExpirationDays": 7,
      "EnableCustomStyling": true
    },
    "Storage": {
      "UploadPath": "uploads",
      "ProcessedPath": "processed",
      "QrCodePath": "qrcodes",
      "MaxStorageSize": 1073741824
    }
  },
  "Kestrel": {
    "Endpoints": {
      "Http": {
        "Url": "http://localhost:5006"
      },
      "Https": {
        "Url": "https://localhost:5007"
      }
    }
  }
}
